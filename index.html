<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAP Learning - Aprende SAP de forma interactiva</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 24px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">Cargando SAP Learning...</div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Iconos simplificados
        const ChevronRight = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '9,18 15,12 9,6' }));

        const ChevronLeft = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '15,18 9,12 15,6' }));

        const Check = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '20,6 9,17 4,12' }));

        const X = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('line', { x1: '18', y1: '6', x2: '6', y2: '18' }), React.createElement('line', { x1: '6', y1: '6', x2: '18', y2: '18' }));

        const BookOpen = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('path', { d: 'M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z' }), React.createElement('path', { d: 'M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z' }));

        const Code = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '16,18 22,12 16,6' }), React.createElement('polyline', { points: '8,6 2,12 8,18' }));

        const Database = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('ellipse', { cx: '12', cy: '5', rx: '9', ry: '3' }), React.createElement('path', { d: 'M21 12c0 1.66-4 3-9 3s-9-1.34-9-3' }), React.createElement('path', { d: 'M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5' }));

        const Award = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('circle', { cx: '12', cy: '8', r: '7' }), React.createElement('polyline', { points: '8.21,13.89 7,23 12,20 17,23 15.79,13.88' }));

        const SAPLearningApp = () => {
            // Estado inicial desde localStorage
            const getInitialState = () => {
                try {
                    const saved = localStorage.getItem('sapLearningProgress');
                    if (saved) {
                        return JSON.parse(saved);
                    }
                } catch (e) {
                    console.error('Error parsing saved data:', e);
                }
                return {
                    currentScreen: 'home',
                    selectedModule: null,
                    selectedLevel: null,
                    selectedSubsection: null,
                    currentLesson: 0,
                    score: 0,
                    completedLessons: {},
                    moduleProgress: {}
                };
            };

            const [appState, setAppState] = useState(getInitialState());
            const [userAnswer, setUserAnswer] = useState('');
            const [showResult, setShowResult] = useState(false);
            const [isCorrect, setIsCorrect] = useState(false);

            // Guardar progreso en localStorage
            useEffect(() => {
                try {
                    localStorage.setItem('sapLearningProgress', JSON.stringify(appState));
                } catch (e) {
                    console.error('Error saving progress:', e);
                }
            }, [appState]);

            // Funci√≥n para actualizar estado
            const updateAppState = (updates) => {
                setAppState(prev => ({ ...prev, ...updates }));
            };

            // Datos de la aplicaci√≥n
            const modules = {
                abap: {
                    title: 'ABAP',
                    icon: Code,
                    description: 'Aprende programaci√≥n en SAP ABAP',
                    color: 'bg-blue-50 border-blue-200'
                },
                schemas: {
                    title: 'Esquemas SAP',
                    icon: Database,
                    description: 'Domina los esquemas y estructuras de SAP',
                    color: 'bg-green-50 border-green-200'
                },
                pcc: {
                    title: 'PCC (Payroll Control Center)',
                    icon: Database,
                    description: 'Centro de Control de N√≥mina - Gesti√≥n y monitoreo',
                    color: 'bg-purple-50 border-purple-200'
                }
            };

            const levels = {
                beginner: {
                    title: 'Principiante',
                    description: 'Conceptos b√°sicos y fundamentos',
                    icon: 'üå±'
                },
                intermediate: {
                    title: 'Intermedio',
                    description: 'Configuraci√≥n y aplicaci√≥n pr√°ctica',
                    icon: 'üöÄ'
                },
                advanced: {
                    title: 'Avanzado',
                    description: 'Optimizaci√≥n y casos complejos',
                    icon: '‚≠ê'
                }
            };

            const subsections = {
                abap: {
                    beginner: {
                        'fundamentos': {
                            title: 'Fundamentos ABAP',
                            description: 'Variables, tipos de datos, estructuras b√°sicas',
                            icon: 'üìö',
                            color: 'bg-blue-50'
                        },
                        'estructuras-control': {
                            title: 'Estructuras de Control',
                            description: 'IF, CASE, WHILE, bucles y condiciones',
                            icon: 'üîÑ',
                            color: 'bg-purple-50'
                        },
                        'tablas-internas': {
                            title: 'Tablas Internas',
                            description: 'Declaraci√≥n, manipulaci√≥n y procesamiento',
                            icon: 'üìä',
                            color: 'bg-indigo-50'
                        }
                    },
                    intermediate: {
                        'abap-oo': {
                            title: 'ABAP Orientado a Objetos',
                            description: 'Clases, objetos, herencia e interfaces',
                            icon: 'üèóÔ∏è',
                            color: 'bg-emerald-50'
                        },
                        'field-symbols': {
                            title: 'Field Symbols',
                            description: 'Punteros, asignaciones din√°micas y performance',
                            icon: 'üéØ',
                            color: 'bg-orange-50'
                        },
                        'modularizacion': {
                            title: 'Modularizaci√≥n',
                            description: 'Funciones, m√©todos y reutilizaci√≥n de c√≥digo',
                            icon: 'üß©',
                            color: 'bg-cyan-50'
                        },
                        'debugging': {
                            title: 'Debugging ABAP',
                            description: 'T√©cnicas de depuraci√≥n y resoluci√≥n de problemas',
                            icon: 'üêõ',
                            color: 'bg-red-50'
                        }
                    },
                    advanced: {
                        'patrones-diseno': {
                            title: 'Patrones de Dise√±o',
                            description: 'Factory, Singleton, Observer y m√°s',
                            icon: '‚öôÔ∏è',
                            color: 'bg-rose-50'
                        },
                        'performance': {
                            title: 'Optimizaci√≥n Performance',
                            description: 'SQL eficiente, √≠ndices y mejores pr√°cticas',
                            icon: '‚ö°',
                            color: 'bg-yellow-50'
                        }
                    }
                },
                schemas: {
                    beginner: {
                        'conceptos-basicos': {
                            title: 'Conceptos B√°sicos',
                            description: 'Qu√© son los esquemas, tipos y estructura',
                            icon: 'üìã',
                            color: 'bg-green-50'
                        },
                        'configuracion': {
                            title: 'Configuraci√≥n B√°sica',
                            description: 'Creaci√≥n y asignaci√≥n de esquemas',
                            icon: '‚öôÔ∏è',
                            color: 'bg-teal-50'
                        }
                    },
                    intermediate: {
                        'esquemas-avanzados': {
                            title: 'Esquemas Avanzados',
                            description: 'Validaciones, sustituciones y debugging',
                            icon: 'üîß',
                            color: 'bg-lime-50'
                        }
                    },
                    advanced: {
                        'optimizacion': {
                            title: 'Optimizaci√≥n',
                            description: 'Performance, mejores pr√°cticas y troubleshooting',
                            icon: 'üöÄ',
                            color: 'bg-emerald-50'
                        }
                    }
                },
                pcc: {
                    beginner: {
                        'conceptos-pcc': {
                            title: 'Conceptos B√°sicos PCC',
                            description: 'Introducci√≥n al Payroll Control Center',
                            icon: 'üìä',
                            color: 'bg-purple-50'
                        },
                        'configuracion-pcc': {
                            title: 'Configuraci√≥n PCC',
                            description: 'Setup inicial y configuraci√≥n b√°sica',
                            icon: '‚öôÔ∏è',
                            color: 'bg-indigo-50'
                        },
                        'monitoreo-pcc': {
                            title: 'Monitoreo y Control',
                            description: 'Supervisi√≥n de procesos de n√≥mina',
                            icon: 'üìà',
                            color: 'bg-pink-50'
                        }
                    }
                }
            };

            // TODAS LAS LECCIONES COMPLETAS CON +20 ADICIONALES POR SECCI√ìN
            const createLessons = () => {
                const lessons = {};
                
                // ABAP PRINCIPIANTE - TODAS LAS LECCIONES
                lessons.abap = {
                    beginner: {
                        'fundamentos': [
                            // Lecciones originales (1-10)
                            { title: 'Tipos de Datos B√°sicos', type: 'multiple-choice', question: '¬øCu√°l es el tipo de dato correcto para almacenar un n√∫mero entero en ABAP?', options: ['STRING', 'I', 'P', 'C'], correct: 1, explanation: 'El tipo "I" (Integer) se usa para n√∫meros enteros en ABAP.' },
                            { title: 'Declaraci√≥n de Variables', type: 'fill-blank', question: 'Completa la declaraci√≥n de una variable de texto en ABAP:', code: 'DATA: lv_nombre TYPE ______(50).', placeholder: 'Escribe el tipo de dato...', correct: 'string', explanation: 'STRING es el tipo para texto variable, C(50) ser√≠a para texto fijo de 50 caracteres.' },
                            { title: 'Tipo de Dato Decimal', type: 'multiple-choice', question: '¬øCu√°l es el tipo de dato m√°s apropiado para almacenar importes monetarios?', options: ['I', 'F', 'P', 'STRING'], correct: 2, explanation: 'El tipo "P" (Packed) es ideal para n√∫meros decimales y c√°lculos monetarios.' },
                            { title: 'Longitud de Campos', type: 'fill-blank', question: 'Declara un campo de tipo caracter con longitud 10:', code: 'DATA: lv_codigo TYPE C LENGTH ______.', placeholder: 'N√∫mero...', correct: '10', explanation: 'LENGTH especifica la longitud del campo de tipo caracter.' },
                            { title: 'Constantes', type: 'multiple-choice', question: '¬øCu√°l es la forma correcta de declarar una constante en ABAP?', options: ["DATA: lc_max TYPE i VALUE 100", "CONSTANTS: lc_max TYPE i VALUE 100", "CONST: lc_max TYPE i VALUE 100", "STATIC: lc_max TYPE i VALUE 100"], correct: 1, explanation: 'CONSTANTS es la palabra clave para declarar constantes en ABAP.' },
                            { title: 'Asignaci√≥n de Variables', type: 'multiple-choice', question: '¬øCu√°l es la forma correcta de asignar un valor a una variable en ABAP?', options: ['lv_variable := valor', 'lv_variable = valor', 'SET lv_variable = valor', 'lv_variable == valor'], correct: 1, explanation: 'En ABAP se usa el signo igual (=) para asignaci√≥n de valores.' },
                            { title: 'Operadores Aritm√©ticos', type: 'fill-blank', question: 'Completa la operaci√≥n para calcular el resto de una divisi√≥n:', code: 'lv_resultado = lv_numero ______ 3.', placeholder: 'Operador...', correct: 'mod', explanation: 'MOD es el operador para calcular el resto de una divisi√≥n.' },
                            { title: 'Instrucci√≥n WRITE', type: 'fill-blank', question: 'Completa la instrucci√≥n para mostrar texto:', code: '______: \'Hola Mundo\'.', placeholder: 'Instrucci√≥n...', correct: 'write', explanation: 'WRITE es la instrucci√≥n b√°sica para mostrar texto en ABAP.' },
                            { title: 'Conversi√≥n de Tipos', type: 'multiple-choice', question: '¬øQu√© funci√≥n usar√≠as para convertir un n√∫mero a string?', options: ['CONVERT', 'CAST', 'MOVE', 'Asignaci√≥n directa'], correct: 3, explanation: 'En ABAP la conversi√≥n de tipos se hace autom√°ticamente con asignaci√≥n directa.' },
                            { title: 'Comentarios en ABAP', type: 'multiple-choice', question: '¬øCu√°l es la forma correcta de escribir un comentario en ABAP?', options: ['// Este es un comentario', '/* Este es un comentario */', '" Este es un comentario', '# Este es un comentario'], correct: 2, explanation: 'En ABAP se usa el s√≠mbolo " (comillas dobles) para comentarios.' },
                            
                            // Lecciones adicionales (11-30)
                            { title: 'Tipo de Dato FLOAT', type: 'multiple-choice', question: '¬øCu√°l es el tipo de dato para n√∫meros con decimales de alta precisi√≥n?', options: ['I', 'F', 'P', 'N'], correct: 1, explanation: 'El tipo "F" (Float) se usa para n√∫meros con decimales de alta precisi√≥n.' },
                            { title: 'Tipo de Dato DATE', type: 'fill-blank', question: 'Completa la declaraci√≥n de una variable de fecha:', code: 'DATA: lv_fecha TYPE ______.', placeholder: 'Tipo de dato...', correct: 'd', explanation: 'El tipo "D" se usa para fechas en formato YYYYMMDD.' },
                            { title: 'Tipo de Dato TIME', type: 'multiple-choice', question: '¬øCu√°l es el tipo de dato para almacenar hora?', options: ['T', 'TIME', 'H', 'HOUR'], correct: 0, explanation: 'El tipo "T" se usa para almacenar hora en formato HHMMSS.' },
                            { title: 'Concatenaci√≥n de Strings', type: 'fill-blank', question: 'Completa el comando para concatenar strings:', code: '______ lv_nombre lv_apellido INTO lv_completo.', placeholder: 'Comando...', correct: 'concatenate', explanation: 'CONCATENATE une m√∫ltiples strings en uno solo.' },
                            { title: 'Separador en Concatenaci√≥n', type: 'multiple-choice', question: '¬øC√≥mo a√±ades un espacio entre strings concatenados?', options: ['SEPARATED BY SPACE', 'WITH SPACE', 'ADD SPACE', 'SPACE BETWEEN'], correct: 0, explanation: 'SEPARATED BY SPACE a√±ade un espacio entre los strings concatenados.' },
                            { title: 'Funci√≥n STRLEN', type: 'fill-blank', question: 'Obt√©n la longitud de un string:', code: 'lv_longitud = ______ ( lv_texto ).', placeholder: 'Funci√≥n...', correct: 'strlen', explanation: 'STRLEN devuelve la longitud de un string.' },
                            { title: 'Operador de Divisi√≥n', type: 'multiple-choice', question: '¬øCu√°l es el operador para divisi√≥n entera en ABAP?', options: ['/', 'DIV', '\\', '//'], correct: 1, explanation: 'DIV realiza divisi√≥n entera, mientras que / realiza divisi√≥n con decimales.' },
                            { title: 'Variables del Sistema', type: 'multiple-choice', question: '¬øQu√© variable del sistema contiene el nombre del usuario actual?', options: ['SY-USER', 'SY-UNAME', 'SY-NAME', 'SY-USERID'], correct: 1, explanation: 'SY-UNAME contiene el nombre del usuario actual del sistema.' },
                            { title: 'Fecha del Sistema', type: 'fill-blank', question: 'La variable del sistema para la fecha actual es:', code: 'lv_hoy = ______-DATUM.', placeholder: 'Prefijo...', correct: 'sy', explanation: 'SY-DATUM contiene la fecha actual del sistema.' },
                            { title: 'Hora del Sistema', type: 'multiple-choice', question: '¬øQu√© variable del sistema contiene la hora actual?', options: ['SY-TIME', 'SY-UZEIT', 'SY-HOUR', 'SY-CLOCK'], correct: 1, explanation: 'SY-UZEIT contiene la hora actual del sistema.' },
                            { title: 'Tipo de Dato N', type: 'multiple-choice', question: '¬øPara qu√© se usa el tipo de dato N?', options: ['N√∫meros negativos', 'N√∫meros con ceros a la izquierda', 'N√∫meros naturales', 'N√∫meros nulos'], correct: 1, explanation: 'El tipo N almacena n√∫meros con ceros a la izquierda (ej: c√≥digos postales).' },
                            { title: 'Declaraci√≥n con VALUE', type: 'fill-blank', question: 'Declara una variable con valor inicial:', code: 'DATA: lv_contador TYPE i ______ 0.', placeholder: 'Palabra clave...', correct: 'value', explanation: 'VALUE asigna un valor inicial a la variable al declararla.' },
                            { title: 'Funci√≥n ABS', type: 'multiple-choice', question: '¬øQu√© hace la funci√≥n ABS?', options: ['Calcula el absoluto', 'Absorbe valores', 'Abstrae datos', 'Acelera c√°lculos'], correct: 0, explanation: 'ABS devuelve el valor absoluto de un n√∫mero.' },
                            { title: 'WRITE con Formato', type: 'fill-blank', question: 'Muestra un n√∫mero con 2 decimales:', code: 'WRITE: lv_precio ______ 2.', placeholder: 'Palabra clave...', correct: 'decimals', explanation: 'DECIMALS especifica el n√∫mero de decimales a mostrar.' },
                            { title: 'Operador de Exponenciaci√≥n', type: 'multiple-choice', question: '¬øCu√°l es el operador para elevar a una potencia?', options: ['^', '**', 'POW', 'EXP'], correct: 1, explanation: 'El operador ** eleva un n√∫mero a una potencia.' },
                            { title: 'CLEAR vs REFRESH', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre CLEAR y REFRESH para variables simples?', options: ['No hay diferencia', 'CLEAR borra el valor, REFRESH reinicia', 'REFRESH es m√°s r√°pido', 'CLEAR es para variables, REFRESH para tablas'], correct: 3, explanation: 'CLEAR borra variables simples, REFRESH es espec√≠fico para tablas internas.' },
                            { title: 'Funci√≥n SIGN', type: 'fill-blank', question: 'La funci√≥n que devuelve el signo de un n√∫mero es:', code: 'lv_signo = ______ ( lv_numero ).', placeholder: 'Funci√≥n...', correct: 'sign', explanation: 'SIGN devuelve -1 para negativos, 0 para cero, y 1 para positivos.' },
                            { title: 'Declaraci√≥n TYPE REF TO', type: 'multiple-choice', question: '¬øPara qu√© se usa TYPE REF TO?', options: ['Referencias a tablas', 'Referencias a objetos', 'Referencias a programas', 'Referencias a usuarios'], correct: 1, explanation: 'TYPE REF TO declara referencias a objetos o clases.' },
                            { title: 'Funci√≥n TRUNC', type: 'multiple-choice', question: '¬øQu√© hace la funci√≥n TRUNC?', options: ['Trunca texto', 'Elimina decimales', 'Redondea n√∫meros', 'Corta strings'], correct: 1, explanation: 'TRUNC elimina la parte decimal de un n√∫mero sin redondear.' },
                            { title: 'WRITE NEW-LINE', type: 'fill-blank', question: 'Para escribir en una nueva l√≠nea usas:', code: 'WRITE: ______.', placeholder: 'Comando...', correct: '/', explanation: 'El s√≠mbolo / en WRITE crea una nueva l√≠nea.' }
                        ],
                        'estructuras-control': [
                            // Lecciones originales (1-11)
                            { title: 'Estructura IF-ENDIF', type: 'fill-blank', question: 'Completa la estructura condicional:', code: 'IF lv_edad > 18.\n  WRITE: \'Mayor de edad\'.\n______.', placeholder: 'Escribe la palabra clave...', correct: 'endif', explanation: 'ENDIF cierra la estructura IF en ABAP.' },
                            { title: 'Operadores L√≥gicos', type: 'multiple-choice', question: '¬øCu√°l es el operador l√≥gico AND en ABAP?', options: ['&&', 'AND', '&', 'Y'], correct: 1, explanation: 'En ABAP se usa la palabra "AND" para el operador l√≥gico Y.' },
                            { title: 'Operador OR', type: 'multiple-choice', question: '¬øCu√°l es el operador l√≥gico OR en ABAP?', options: ['||', 'OR', '|', 'O'], correct: 1, explanation: 'En ABAP se usa la palabra "OR" para el operador l√≥gico O.' },
                            { title: 'Operador NOT', type: 'fill-blank', question: 'Completa la condici√≥n negativa:', code: 'IF ______ lv_activo = \'X\'.\n  WRITE: \'Usuario inactivo\'.\nENDIF.', placeholder: 'Operador...', correct: 'not', explanation: 'NOT es el operador de negaci√≥n en ABAP.' },
                            { title: 'Estructura CASE-WHEN', type: 'multiple-choice', question: '¬øCu√°l es la estructura correcta para m√∫ltiples condiciones?', options: ['SWITCH-CASE-ENDSWITCH', 'CASE-WHEN-ENDCASE', 'SELECT-CASE-ENDSELECT', 'MATCH-CASE-ENDMATCH'], correct: 1, explanation: 'CASE-WHEN-ENDCASE es la estructura para m√∫ltiples condiciones en ABAP.' },
                            { title: 'CASE con OTHERS', type: 'fill-blank', question: 'Completa la estructura CASE para casos no contemplados:', code: 'CASE lv_estado.\n  WHEN \'A\'.\n    WRITE: \'Activo\'.\n  WHEN ______.\n    WRITE: \'Estado desconocido\'.\nENDCASE.', placeholder: 'Palabra clave...', correct: 'others', explanation: 'OTHERS maneja todos los casos no contemplados en CASE.' },
                            { title: 'Bucle WHILE', type: 'multiple-choice', question: '¬øCu√°l es la sintaxis correcta para un bucle WHILE?', options: ['WHILE condici√≥n DO...ENDWHILE', 'WHILE condici√≥n...ENDWHILE', 'DO WHILE condici√≥n...ENDDO', 'REPEAT...UNTIL condici√≥n'], correct: 1, explanation: 'En ABAP se usa WHILE condici√≥n...ENDWHILE.' },
                            { title: 'Bucle DO', type: 'fill-blank', question: 'Completa el bucle DO con n√∫mero fijo de iteraciones:', code: 'DO 10 ______.\n  WRITE: sy-index.\nENDDO.', placeholder: 'Palabra clave...', correct: 'times', explanation: 'DO n TIMES...ENDDO ejecuta el bucle n veces.' },
                            { title: 'Variable del Sistema SY-INDEX', type: 'multiple-choice', question: '¬øQu√© contiene la variable SY-INDEX en un bucle DO?', options: ['El n√∫mero total de iteraciones', 'El n√∫mero de la iteraci√≥n actual', 'El valor de la condici√≥n', 'El tiempo transcurrido'], correct: 1, explanation: 'SY-INDEX contiene el n√∫mero de la iteraci√≥n actual en bucles DO.' },
                            { title: 'Instrucci√≥n EXIT', type: 'multiple-choice', question: '¬øQu√© hace la instrucci√≥n EXIT en un bucle?', options: ['Termina el programa', 'Sale del bucle actual', 'Reinicia el bucle', 'Pausa el bucle'], correct: 1, explanation: 'EXIT termina inmediatamente el bucle actual.' },
                            { title: 'Instrucci√≥n CONTINUE', type: 'multiple-choice', question: '¬øQu√© hace la instrucci√≥n CONTINUE en un bucle?', options: ['Termina el bucle', 'Salta a la siguiente iteraci√≥n', 'Reinicia el bucle desde el principio', 'Pausa el bucle'], correct: 1, explanation: 'CONTINUE salta el resto de la iteraci√≥n actual y contin√∫a con la siguiente.' },
                            
                            // Lecciones adicionales (12-31)
                            { title: 'IF-ELSEIF', type: 'fill-blank', question: 'Completa la estructura con m√∫ltiples condiciones:', code: 'IF lv_nota >= 90.\n  WRITE: \'A\'.\n______ lv_nota >= 80.\n  WRITE: \'B\'.\nENDIF.', placeholder: 'Palabra clave...', correct: 'elseif', explanation: 'ELSEIF permite a√±adir m√∫ltiples condiciones en una estructura IF.' },
                            { title: 'ELSE en IF', type: 'multiple-choice', question: '¬øD√≥nde se coloca la cl√°usula ELSE?', options: ['Antes del IF', 'Despu√©s del ENDIF', 'Entre el √∫ltimo ELSEIF y ENDIF', 'En cualquier lugar'], correct: 2, explanation: 'ELSE va despu√©s de todas las condiciones y antes de ENDIF.' },
                            { title: 'Operadores de Comparaci√≥n', type: 'multiple-choice', question: '¬øCu√°l es el operador para "diferente de" en ABAP?', options: ['!=', '<>', 'NE', 'NOT ='], correct: 2, explanation: 'NE (Not Equal) es el operador para "diferente de" en ABAP.' },
                            { title: 'Operador Mayor o Igual', type: 'fill-blank', question: 'El operador para mayor o igual es:', code: 'IF lv_edad ______ 18.', placeholder: 'Operador...', correct: 'ge', explanation: 'GE (Greater or Equal) es el operador para mayor o igual.' },
                            { title: 'Operador Menor o Igual', type: 'multiple-choice', question: '¬øCu√°l es el operador para menor o igual?', options: ['LT', 'LE', 'LI', 'LS'], correct: 1, explanation: 'LE (Less or Equal) es el operador para menor o igual.' },
                            { title: 'CHECK en Bucles', type: 'multiple-choice', question: '¬øQu√© hace la instrucci√≥n CHECK en un bucle?', options: ['Verifica errores', 'Contin√∫a solo si la condici√≥n es verdadera', 'Detiene el bucle', 'Marca un checkpoint'], correct: 1, explanation: 'CHECK contin√∫a con la siguiente iteraci√≥n si la condici√≥n es falsa.' },
                            { title: 'DO con Variable', type: 'fill-blank', question: 'Ejecuta un bucle un n√∫mero variable de veces:', code: 'DO lv_veces ______.', placeholder: 'Palabra clave...', correct: 'times', explanation: 'DO variable TIMES ejecuta el bucle seg√∫n el valor de la variable.' },
                            { title: 'WHILE con Contador', type: 'multiple-choice', question: '¬øC√≥mo implementas un contador en WHILE?', options: ['Se incrementa autom√°ticamente', 'Debes incrementarlo manualmente', 'Usa SY-INDEX', 'No es posible'], correct: 1, explanation: 'En WHILE debes incrementar manualmente cualquier contador.' },
                            { title: 'Bucles Anidados', type: 'multiple-choice', question: '¬øQu√© sucede con EXIT en bucles anidados?', options: ['Sale de todos los bucles', 'Sale solo del bucle m√°s interno', 'Genera un error', 'Sale del programa'], correct: 1, explanation: 'EXIT sale solo del bucle donde se ejecuta, no de todos.' },
                            { title: 'CASE con Rangos', type: 'fill-blank', question: 'Para evaluar rangos en CASE usas:', code: 'CASE lv_nota.\n  WHEN 90 ______ 100.\n    WRITE: \'A\'.', placeholder: 'Palabra clave...', correct: 'to', explanation: 'TO permite especificar rangos en las cl√°usulas WHEN.' },
                            { title: 'Condiciones Complejas', type: 'multiple-choice', question: '¬øC√≥mo agrupas condiciones complejas?', options: ['Con llaves {}', 'Con corchetes []', 'Con par√©ntesis ()', 'No se pueden agrupar'], correct: 2, explanation: 'Los par√©ntesis agrupan condiciones para controlar la precedencia.' },
                            { title: 'IS INITIAL', type: 'multiple-choice', question: '¬øQu√© verifica la condici√≥n IS INITIAL?', options: ['Si es la primera vez', 'Si la variable est√° vac√≠a o con valor inicial', 'Si es el inicio del programa', 'Si est√° inicializada'], correct: 1, explanation: 'IS INITIAL verifica si una variable tiene su valor inicial (vac√≠o, cero, etc.).' },
                            { title: 'IS NOT INITIAL', type: 'fill-blank', question: 'Verifica si una variable tiene valor:', code: 'IF lv_nombre ______ NOT INITIAL.', placeholder: 'Palabra clave...', correct: 'is', explanation: 'IS NOT INITIAL verifica que la variable tenga alg√∫n valor asignado.' },
                            { title: 'BETWEEN en Condiciones', type: 'multiple-choice', question: '¬øC√≥mo verificas si un valor est√° en un rango?', options: ['valor IN rango', 'valor BETWEEN min AND max', 'valor FROM min TO max', 'valor >= min AND valor <= max'], correct: 1, explanation: 'BETWEEN verifica si un valor est√° entre dos l√≠mites inclusive.' },
                            { title: 'IN para Listas', type: 'multiple-choice', question: '¬øQu√© operador usas para verificar si un valor est√° en una lista?', options: ['IN', 'CONTAINS', 'EXISTS', 'HAS'], correct: 0, explanation: 'IN verifica si un valor est√° dentro de un conjunto de valores.' },
                            { title: 'Precedencia de Operadores', type: 'multiple-choice', question: '¬øQu√© se eval√∫a primero: AND o OR?', options: ['AND', 'OR', 'El que aparezca primero', 'Tienen igual precedencia'], correct: 0, explanation: 'AND tiene mayor precedencia que OR, se eval√∫a primero.' },
                            { title: 'DO VARYING', type: 'fill-blank', question: 'DO VARYING permite iterar sobre:', code: 'DO ______ lv_campo FROM campo1 NEXT campo2.', placeholder: 'Palabra clave...', correct: 'varying', explanation: 'DO VARYING itera sobre una serie de campos con nombres similares.' },
                            { title: 'EXIT vs RETURN', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre EXIT y RETURN?', options: ['Son sin√≥nimos', 'EXIT sale del bucle, RETURN del programa/m√©todo', 'RETURN es m√°s r√°pido', 'EXIT es obsoleto'], correct: 1, explanation: 'EXIT sale del bucle actual, RETURN sale del programa o m√©todo completo.' },
                            { title: 'Condiciones con Patterns', type: 'multiple-choice', question: '¬øQu√© operador usas para comparar con patrones?', options: ['LIKE', 'CP (Contains Pattern)', 'MATCHES', 'PATTERN'], correct: 1, explanation: 'CP (Contains Pattern) permite usar wildcards como * y + en comparaciones.' },
                            { title: 'Wildcards en CP', type: 'fill-blank', question: 'En el operador CP, el wildcard para cualquier caracter es:', code: 'IF lv_texto CP \'ABC______\'.', placeholder: 'S√≠mbolo...', correct: '*', explanation: 'El asterisco (*) representa cualquier secuencia de caracteres en CP.' }
                        ],
                        'tablas-internas': [
                            // Lecciones originales (1-15)
                            { title: 'Declaraci√≥n de Tabla Interna', type: 'fill-blank', question: 'Declara una tabla interna de tipo est√°ndar:', code: 'DATA: lt_empleados TYPE ______ TABLE OF ty_empleado.', placeholder: 'Tipo de tabla...', correct: 'standard', explanation: 'STANDARD TABLE es el tipo m√°s com√∫n de tabla interna en ABAP.' },
                            { title: 'Tipos de Tablas Internas', type: 'multiple-choice', question: '¬øCu√°les son los tres tipos principales de tablas internas?', options: ['STANDARD, SORTED, HASHED', 'INTERNAL, EXTERNAL, TEMPORARY', 'SIMPLE, COMPLEX, NESTED', 'LOCAL, GLOBAL, SHARED'], correct: 0, explanation: 'Los tres tipos son: STANDARD (acceso por √≠ndice), SORTED (ordenada) y HASHED (acceso por clave).' },
                            { title: 'Declaraci√≥n con LIKE', type: 'fill-blank', question: 'Declara una tabla interna basada en otra tabla:', code: 'DATA: lt_nueva ______ TABLE OF lt_existente.', placeholder: 'Palabra clave...', correct: 'like', explanation: 'LIKE TABLE OF crea una tabla con la misma estructura que otra existente.' },
                            { title: 'Work Area', type: 'multiple-choice', question: '¬øPara qu√© se usa una Work Area con tablas internas?', options: ['Para ordenar la tabla', 'Para procesar registros individuales', 'Para crear copias de la tabla', 'Para borrar la tabla'], correct: 1, explanation: 'La Work Area se usa para procesar registros individuales de la tabla interna.' },
                            { title: 'Declaraci√≥n de Work Area', type: 'fill-blank', question: 'Declara una work area para la tabla:', code: 'DATA: ls_empleado ______ LINE OF lt_empleados.', placeholder: 'Palabra clave...', correct: 'like', explanation: 'LIKE LINE OF crea una work area con la estructura de una l√≠nea de la tabla.' },
                            { title: 'Comando APPEND', type: 'multiple-choice', question: '¬øQu√© hace el comando APPEND en una tabla interna?', options: ['Borra el √∫ltimo registro', 'A√±ade un registro al final', 'Ordena la tabla', 'Cuenta los registros'], correct: 1, explanation: 'APPEND a√±ade un nuevo registro al final de la tabla interna.' },
                            { title: 'Sintaxis APPEND', type: 'fill-blank', question: 'Completa el comando para a√±adir un registro:', code: 'ls_empleado-nombre = \'Juan\'.\n______ ls_empleado TO lt_empleados.', placeholder: 'Comando...', correct: 'append', explanation: 'APPEND work_area TO tabla a√±ade el contenido de la work area a la tabla.' },
                            { title: 'Loop en Tablas', type: 'multiple-choice', question: '¬øCu√°l es la sintaxis correcta para recorrer una tabla interna?', options: ['LOOP AT lt_tabla INTO ls_linea', 'FOR EACH ls_linea IN lt_tabla', 'WHILE ls_linea = NEXT(lt_tabla)', 'ITERATE lt_tabla INTO ls_linea'], correct: 0, explanation: 'LOOP AT tabla INTO estructura es la sintaxis est√°ndar en ABAP.' },
                            { title: 'Variable SY-TABIX', type: 'multiple-choice', question: '¬øQu√© contiene SY-TABIX en un LOOP AT?', options: ['El total de registros', 'El √≠ndice del registro actual', 'El valor del registro', 'El tipo de tabla'], correct: 1, explanation: 'SY-TABIX contiene el √≠ndice del registro actual en el loop.' },
                            { title: 'Comando READ TABLE', type: 'fill-blank', question: 'Completa el comando para leer un registro espec√≠fico:', code: '______ TABLE lt_empleados INTO ls_empleado INDEX 1.', placeholder: 'Comando...', correct: 'read', explanation: 'READ TABLE permite leer un registro espec√≠fico de la tabla interna.' },
                            { title: 'Verificaci√≥n despu√©s de READ', type: 'multiple-choice', question: '¬øQu√© variable del sistema verificas despu√©s de READ TABLE?', options: ['SY-TABIX', 'SY-SUBRC', 'SY-INDEX', 'SY-UNAME'], correct: 1, explanation: 'SY-SUBRC = 0 indica que READ TABLE encontr√≥ el registro buscado.' },
                            { title: 'Comando MODIFY', type: 'multiple-choice', question: '¬øQu√© hace el comando MODIFY en una tabla interna?', options: ['Borra un registro', 'A√±ade un registro', 'Actualiza un registro existente', 'Cuenta los registros'], correct: 2, explanation: 'MODIFY actualiza un registro existente en la tabla interna.' },
                            { title: 'Comando DELETE', type: 'fill-blank', question: 'Completa el comando para borrar el registro actual en un loop:', code: 'LOOP AT lt_tabla INTO ls_linea.\n  IF ls_linea-activo = \' \'.\n    ______ lt_tabla.\n  ENDIF.\nENDLOOP.', placeholder: 'Comando...', correct: 'delete', explanation: 'DELETE tabla (sin √≠ndice) borra el registro actual dentro de un loop.' },
                            { title: 'Comando CLEAR', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre CLEAR y REFRESH?', options: ['Son sin√≥nimos', 'CLEAR vac√≠a work area, REFRESH vac√≠a tabla', 'CLEAR es m√°s r√°pido', 'REFRESH es obsoleto'], correct: 1, explanation: 'CLEAR vac√≠a el contenido de una work area, REFRESH vac√≠a completamente una tabla interna.' },
                            { title: 'Funci√≥n LINES', type: 'fill-blank', question: 'Completa para obtener el n√∫mero de registros:', code: 'lv_contador = ______ ( lt_empleados ).', placeholder: 'Funci√≥n...', correct: 'lines', explanation: 'LINES() devuelve el n√∫mero de registros de una tabla interna.' },
                            
                            // Lecciones adicionales (16-35)
                            { title: 'INSERT en Tablas', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre INSERT y APPEND?', options: ['Son sin√≥nimos', 'INSERT permite especificar posici√≥n, APPEND siempre al final', 'APPEND es m√°s r√°pido', 'INSERT es obsoleto'], correct: 1, explanation: 'INSERT permite insertar en una posici√≥n espec√≠fica, APPEND siempre a√±ade al final.' },
                            { title: 'Sintaxis INSERT', type: 'fill-blank', question: 'Inserta un registro en posici√≥n espec√≠fica:', code: '______ ls_empleado INTO lt_empleados INDEX 3.', placeholder: 'Comando...', correct: 'insert', explanation: 'INSERT con INDEX inserta el registro en la posici√≥n especificada.' },
                            { title: 'SORT Simple', type: 'multiple-choice', question: '¬øC√≥mo ordenas una tabla por un campo?', options: ['ORDER lt_tabla BY campo', 'SORT lt_tabla BY campo', 'ARRANGE lt_tabla BY campo', 'ORGANIZE lt_tabla BY campo'], correct: 1, explanation: 'SORT tabla BY campo ordena la tabla por el campo especificado.' },
                            { title: 'SORT Descendente', type: 'fill-blank', question: 'Ordena una tabla en orden descendente:', code: 'SORT lt_empleados BY salario ______.', placeholder: 'Palabra clave...', correct: 'descending', explanation: 'DESCENDING ordena de mayor a menor.' },
                            { title: 'SORT M√∫ltiples Campos', type: 'multiple-choice', question: '¬øC√≥mo ordenas por m√∫ltiples campos?', options: ['SORT BY campo1 AND campo2', 'SORT BY campo1, campo2', 'SORT BY campo1 campo2', 'SORT BY campo1 THEN campo2'], correct: 2, explanation: 'Los campos se separan por espacios: SORT tabla BY campo1 campo2.' },
                            { title: 'DESCRIBE TABLE', type: 'fill-blank', question: 'Obt√©n informaci√≥n de la tabla:', code: '______ TABLE lt_empleados LINES lv_lineas.', placeholder: 'Comando...', correct: 'describe', explanation: 'DESCRIBE TABLE proporciona informaci√≥n como n√∫mero de l√≠neas.' },
                            { title: 'FREE para Tablas', type: 'multiple-choice', question: '¬øQu√© hace el comando FREE?', options: ['Libera memoria de la tabla', 'Vac√≠a la tabla', 'Bloquea la tabla', 'Copia la tabla'], correct: 0, explanation: 'FREE libera completamente la memoria ocupada por la tabla.' },
                            { title: 'COLLECT', type: 'multiple-choice', question: '¬øPara qu√© se usa COLLECT?', options: ['Para coleccionar datos', 'Para sumar valores num√©ricos con la misma clave', 'Para ordenar registros', 'Para filtrar datos'], correct: 1, explanation: 'COLLECT suma campos num√©ricos de registros con la misma clave no num√©rica.' },
                            { title: 'READ con Clave', type: 'fill-blank', question: 'Lee un registro por campo clave:', code: 'READ TABLE lt_empleados INTO ls_empleado WITH KEY id = ______.', placeholder: 'Valor...', correct: '\'001\'', explanation: 'WITH KEY permite buscar por valores de campos espec√≠ficos.' },
                            { title: 'BINARY SEARCH', type: 'multiple-choice', question: '¬øCu√°ndo puedes usar BINARY SEARCH?', options: ['Siempre', 'Solo con tablas ordenadas', 'Solo con tablas HASHED', 'Solo con tablas peque√±as'], correct: 1, explanation: 'BINARY SEARCH requiere que la tabla est√© ordenada por el campo de b√∫squeda.' },
                            { title: 'TRANSPORTING', type: 'fill-blank', question: 'Lee solo campos espec√≠ficos:', code: 'READ TABLE lt_empleados ______ nombre apellido INTO ls_empleado.', placeholder: 'Palabra clave...', correct: 'transporting', explanation: 'TRANSPORTING limita qu√© campos se copian en la lectura.' },
                            { title: 'TRANSPORTING NO FIELDS', type: 'multiple-choice', question: '¬øPara qu√© usar√≠as TRANSPORTING NO FIELDS?', options: ['Para copiar todo', 'Solo para verificar si existe el registro', 'Para borrar campos', 'Es un error'], correct: 1, explanation: 'TRANSPORTING NO FIELDS solo verifica existencia sin copiar datos.' },
                            { title: 'DELETE WHERE', type: 'fill-blank', question: 'Borra registros que cumplan condici√≥n:', code: 'DELETE lt_empleados ______ salario < 1000.', placeholder: 'Palabra clave...', correct: 'where', explanation: 'DELETE WHERE borra todos los registros que cumplan la condici√≥n.' },
                            { title: 'DELETE ADJACENT', type: 'multiple-choice', question: '¬øQu√© hace DELETE ADJACENT DUPLICATES?', options: ['Borra todos los duplicados', 'Borra duplicados consecutivos', 'Borra el primer duplicado', 'Ordena la tabla'], correct: 1, explanation: 'DELETE ADJACENT DUPLICATES elimina duplicados consecutivos (requiere ordenar primero).' },
                            { title: 'MODIFY con WHERE', type: 'multiple-choice', question: '¬øSe puede usar MODIFY con WHERE?', options: ['S√≠, modifica todos los que cumplan', 'No, solo con √≠ndice o en LOOP', 'Solo en tablas SORTED', 'Solo con TRANSPORTING'], correct: 1, explanation: 'MODIFY requiere √≠ndice espec√≠fico o usarse dentro de un LOOP.' },
                            { title: 'LOOP WHERE', type: 'fill-blank', question: 'Recorre solo registros espec√≠ficos:', code: 'LOOP AT lt_empleados INTO ls_empleado ______ activo = \'X\'.', placeholder: 'Palabra clave...', correct: 'where', explanation: 'WHERE en LOOP filtra qu√© registros se procesan.' },
                            { title: 'LOOP FROM TO', type: 'multiple-choice', question: '¬øC√≥mo recorres un rango de √≠ndices?', options: ['LOOP AT tabla FROM 1 TO 10', 'LOOP AT tabla RANGE 1-10', 'LOOP AT tabla INDEX 1 TO 10', 'LOOP AT tabla BETWEEN 1 AND 10'], correct: 0, explanation: 'FROM y TO especifican el rango de √≠ndices a recorrer.' },
                            { title: 'AT FIRST/LAST', type: 'multiple-choice', question: '¬øCu√°ndo se ejecuta AT FIRST en un LOOP?', options: ['En cada iteraci√≥n', 'Solo en el primer registro', 'Al inicio del programa', 'Antes del LOOP'], correct: 1, explanation: 'AT FIRST se ejecuta solo al procesar el primer registro del LOOP.' },
                            { title: 'AT NEW/END OF', type: 'fill-blank', question: 'Detecta cambios en un campo durante LOOP:', code: 'LOOP AT lt_ventas INTO ls_venta.\n  AT ______ cliente.\n    WRITE: \'Nuevo cliente\'.\n  ENDAT.\nENDLOOP.', placeholder: 'Palabra clave...', correct: 'new', explanation: 'AT NEW detecta cuando cambia el valor de un campo respecto al registro anterior.' },
                            { title: 'COMPARING en APPEND', type: 'multiple-choice', question: '¬øQu√© hace COMPARING en APPEND?', options: ['Compara antes de a√±adir', 'Ordena al a√±adir', 'Evita duplicados completos', 'Suma valores'], correct: 2, explanation: 'COMPARING evita a√±adir registros id√©nticos en todos los campos especificados.' }
                        ]
                    },
                    // ABAP INTERMEDIO
                    intermediate: {
                        'abap-oo': [
                            // Lecciones originales (1-14)
                            { title: 'Definici√≥n de Clase', type: 'fill-blank', question: 'Completa la definici√≥n de una clase:', code: '______ lcl_empleado DEFINITION.\n  PUBLIC SECTION.\n    DATA: mv_nombre TYPE string.\n  PRIVATE SECTION.\n    DATA: mv_salario TYPE p.\n______.', placeholder: 'Palabras clave...', correct: 'class', explanation: 'Las clases se definen con CLASS...ENDCLASS en ABAP.' },
                            { title: 'Secciones de Visibilidad', type: 'multiple-choice', question: '¬øEn qu√© secci√≥n declarar√≠as un m√©todo que solo debe ser accesible desde subclases?', options: ['PUBLIC SECTION', 'PRIVATE SECTION', 'PROTECTED SECTION', 'FRIEND SECTION'], correct: 2, explanation: 'PROTECTED SECTION es accesible desde la misma clase y sus subclases.' },
                            { title: 'Atributos de Clase', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre atributos de instancia y de clase?', options: ['No hay diferencia', 'Instancia: cada objeto tiene su copia, Clase: compartido por todos', 'Instancia es m√°s r√°pido', 'Clase es obsoleto'], correct: 1, explanation: 'Atributos de instancia: cada objeto tiene su propia copia. Atributos de clase: compartidos por todas las instancias.' },
                            { title: 'Declaraci√≥n de Atributos de Clase', type: 'fill-blank', question: 'Declara un atributo de clase:', code: 'PUBLIC SECTION.\n  ______-DATA: gv_contador TYPE i.', placeholder: 'Palabra clave...', correct: 'class', explanation: 'CLASS-DATA declara atributos que pertenecen a la clase, no a la instancia.' },
                            { title: 'Constructor de Clase', type: 'multiple-choice', question: '¬øCu√°l es el nombre del m√©todo constructor en ABAP OO?', options: ['constructor', 'new', 'init', 'create'], correct: 0, explanation: 'El m√©todo constructor se llama "constructor" en ABAP OO.' },
                            { title: 'Constructor de Clase vs Instancia', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre constructor y class_constructor?', options: ['Son sin√≥nimos', 'constructor: se ejecuta al crear instancia, class_constructor: se ejecuta al cargar la clase', 'class_constructor es obsoleto', 'constructor es m√°s r√°pido'], correct: 1, explanation: 'constructor se ejecuta al crear cada instancia, class_constructor se ejecuta una sola vez al cargar la clase.' },
                            { title: 'Implementaci√≥n de M√©todos', type: 'fill-blank', question: 'Completa la implementaci√≥n del m√©todo:', code: 'CLASS lcl_empleado IMPLEMENTATION.\n  ______ constructor.\n    mv_nombre = \'Sin nombre\'.\n  ______.\nENDCLASS.', placeholder: 'Palabras clave...', correct: 'method', explanation: 'Los m√©todos se implementan con METHOD...ENDMETHOD.' },
                            { title: 'Par√°metros de M√©todos - IMPORTING', type: 'multiple-choice', question: '¬øQu√© tipo de par√°metros se declaran con IMPORTING?', options: ['Par√°metros de salida', 'Par√°metros de entrada', 'Par√°metros de entrada/salida', 'Par√°metros opcionales'], correct: 1, explanation: 'IMPORTING declara par√°metros que el m√©todo recibe desde el exterior.' },
                            { title: 'Par√°metros de M√©todos - EXPORTING', type: 'fill-blank', question: 'Completa la declaraci√≥n de un m√©todo con par√°metro de salida:', code: 'METHODS: get_datos\n  ______ ev_nombre TYPE string\n           ev_edad TYPE i.', placeholder: 'Palabra clave...', correct: 'exporting', explanation: 'EXPORTING declara par√°metros que el m√©todo devuelve al exterior.' },
                            { title: 'Par√°metros RETURNING', type: 'multiple-choice', question: '¬øCu√°l es la ventaja de usar RETURNING en lugar de EXPORTING?', options: ['Es m√°s r√°pido', 'Permite sintaxis funcional (m√©todo como expresi√≥n)', 'Usa menos memoria', 'Es m√°s seguro'], correct: 1, explanation: 'RETURNING permite usar el m√©todo como una expresi√≥n funcional, m√°s limpio y legible.' },
                            { title: 'Instanciaci√≥n de Objetos - Cl√°sica', type: 'fill-blank', question: 'Completa la instanciaci√≥n cl√°sica:', code: 'DATA: lo_empleado TYPE REF TO lcl_empleado.\n______ OBJECT lo_empleado.', placeholder: 'Comando...', correct: 'create', explanation: 'CREATE OBJECT es la forma cl√°sica de instanciar objetos en ABAP.' },
                            { title: 'Instanciaci√≥n de Objetos - Moderna', type: 'multiple-choice', question: '¬øCu√°l es la forma moderna de crear una instancia de objeto?', options: ['CREATE OBJECT lo_emp', 'lo_emp = NEW lcl_empleado( )', 'INSTANTIATE lo_emp TYPE lcl_empleado', 'lo_emp = lcl_empleado=>new( )'], correct: 1, explanation: 'NEW es la forma moderna de instanciar objetos en ABAP 7.4+.' },
                            { title: 'Llamada a M√©todos', type: 'fill-blank', question: 'Completa la llamada a un m√©todo:', code: 'lo_empleado->______( iv_nombre = \'Juan\' ).', placeholder: 'Operador...', correct: 'set_nombre', explanation: 'El operador -> se usa para llamar m√©todos de una instancia.' },
                            { title: 'M√©todos Est√°ticos', type: 'fill-blank', question: 'Declara un m√©todo est√°tico:', code: 'PUBLIC SECTION.\n  ______-METHODS: get_contador RETURNING VALUE(rv_count) TYPE i.', placeholder: 'Palabra clave...', correct: 'class', explanation: 'CLASS-METHODS declara m√©todos est√°ticos que pertenecen a la clase, no a la instancia.' },
                            
                            // Lecciones adicionales (15-34)
                            { title: 'Llamada a M√©todos Est√°ticos', type: 'multiple-choice', question: '¬øC√≥mo llamas a un m√©todo est√°tico?', options: ['objeto->metodo( )', 'clase=>metodo( )', 'clase->metodo( )', 'CALL METHOD clase~metodo'], correct: 1, explanation: 'Los m√©todos est√°ticos se llaman con clase=>metodo usando el operador =>.' },
                            { title: 'Herencia - INHERITING FROM', type: 'fill-blank', question: 'Declara una clase que hereda de otra:', code: 'CLASS lcl_gerente DEFINITION ______ FROM lcl_empleado.', placeholder: 'Palabra clave...', correct: 'inheriting', explanation: 'INHERITING FROM establece la herencia entre clases.' },
                            { title: 'Redefinici√≥n de M√©todos', type: 'multiple-choice', question: '¬øC√≥mo indicas que vas a redefinir un m√©todo heredado?', options: ['OVERRIDE', 'REDEFINE', 'REDEFINITION', 'OVERWRITE'], correct: 2, explanation: 'REDEFINITION en la definici√≥n indica que el m√©todo heredado ser√° redefinido.' },
                            { title: 'SUPER en M√©todos', type: 'fill-blank', question: 'Llama al m√©todo de la clase padre:', code: 'METHOD calcular_salario.\n  ______->calcular_salario( ).\n  "L√≥gica adicional\nENDMETHOD.', placeholder: 'Palabra clave...', correct: 'super', explanation: 'SUPER-> permite llamar a la implementaci√≥n del m√©todo en la clase padre.' },
                            { title: 'Clases Abstractas', type: 'multiple-choice', question: '¬øC√≥mo declaras una clase abstracta?', options: ['ABSTRACT CLASS', 'CLASS ... ABSTRACT', 'CLASS ... DEFINITION ABSTRACT', 'VIRTUAL CLASS'], correct: 2, explanation: 'Se a√±ade ABSTRACT despu√©s de DEFINITION para crear clases abstractas.' },
                            { title: 'M√©todos Abstractos', type: 'multiple-choice', question: '¬øQu√© caracter√≠stica tienen los m√©todos abstractos?', options: ['Se implementan autom√°ticamente', 'No tienen implementaci√≥n en la clase abstracta', 'Son m√°s r√°pidos', 'Son privados'], correct: 1, explanation: 'Los m√©todos abstractos se declaran sin implementaci√≥n y deben ser implementados por las subclases.' },
                            { title: 'Interfaces - Definici√≥n', type: 'fill-blank', question: 'Define una interfaz:', code: '______ lif_printable.\n  METHODS: print.\nENDINTERFACE.', placeholder: 'Palabra clave...', correct: 'interface', explanation: 'INTERFACE define un contrato que las clases pueden implementar.' },
                            { title: 'Implementaci√≥n de Interfaces', type: 'multiple-choice', question: '¬øC√≥mo indica una clase que implementa una interfaz?', options: ['IMPLEMENTS', 'INTERFACES', 'USING INTERFACE', 'WITH INTERFACE'], correct: 1, explanation: 'INTERFACES en la definici√≥n de clase indica qu√© interfaces implementa.' },
                            { title: 'Alias para Interfaces', type: 'fill-blank', question: 'Crea un alias para m√©todo de interfaz:', code: 'ALIASES: print_doc FOR lif_printable~______.', placeholder: 'M√©todo...', correct: 'print', explanation: 'ALIASES permite crear nombres alternativos para m√©todos de interfaz.' },
                            { title: 'Eventos - Declaraci√≥n', type: 'multiple-choice', question: '¬øC√≥mo declaras un evento en una clase?', options: ['EVENT: nombre', 'EVENTS: nombre', 'TRIGGER: nombre', 'SIGNAL: nombre'], correct: 1, explanation: 'EVENTS declara eventos que la clase puede disparar.' },
                            { title: 'RAISE EVENT', type: 'fill-blank', question: 'Dispara un evento:', code: 'METHOD cambiar_estado.\n  "L√≥gica\n  ______ EVENT estado_cambiado.\nENDMETHOD.', placeholder: 'Comando...', correct: 'raise', explanation: 'RAISE EVENT dispara el evento para que los manejadores lo procesen.' },
                            { title: 'Handler de Eventos', type: 'multiple-choice', question: '¬øC√≥mo declaras un m√©todo manejador de eventos?', options: ['HANDLER FOR', 'METHODS ... FOR EVENT', 'ON EVENT', 'EVENT HANDLER'], correct: 1, explanation: 'METHODS nombre FOR EVENT especifica que el m√©todo maneja un evento.' },
                            { title: 'SET HANDLER', type: 'fill-blank', question: 'Registra un manejador de eventos:', code: '______ HANDLER lo_handler->on_cambio FOR lo_emisor.', placeholder: 'Comando...', correct: 'set', explanation: 'SET HANDLER conecta el manejador con el objeto que emite el evento.' },
                            { title: 'Clases Finales', type: 'multiple-choice', question: '¬øQu√© caracter√≠stica tiene una clase FINAL?', options: ['No se puede instanciar', 'No se puede heredar', 'No tiene m√©todos p√∫blicos', 'Es abstracta'], correct: 1, explanation: 'Las clases FINAL no pueden tener subclases (no se puede heredar de ellas).' },
                            { title: 'M√©todos Finales', type: 'multiple-choice', question: '¬øQu√© implica declarar un m√©todo como FINAL?', options: ['Es el √∫ltimo m√©todo de la clase', 'No puede ser redefinido en subclases', 'Se ejecuta al final', 'Es privado'], correct: 1, explanation: 'Los m√©todos FINAL no pueden ser redefinidos por las subclases.' },
                            { title: 'Friends - Clases Amigas', type: 'fill-blank', question: 'Declara una clase amiga:', code: 'CLASS lcl_clase DEFINITION.\n  ______ lcl_amiga.\nENDCLASS.', placeholder: 'Palabra clave...', correct: 'friends', explanation: 'FRIENDS permite que otra clase acceda a componentes privados.' },
                            { title: 'Me - Referencia', type: 'multiple-choice', question: '¬øQu√© representa la referencia ME?', options: ['El m√©todo actual', 'La instancia actual del objeto', 'El usuario actual', 'La memoria disponible'], correct: 1, explanation: 'ME es una referencia a la instancia actual del objeto (similar a this en otros lenguajes).' },
                            { title: 'Cadena de M√©todos', type: 'fill-blank', question: 'Encadena llamadas a m√©todos:', code: 'lo_objeto->metodo1( )->______( )->metodo3( ).', placeholder: 'M√©todo...', correct: 'metodo2', explanation: 'El encadenamiento de m√©todos requiere que cada m√©todo retorne una referencia.' },
                            { title: 'IS INSTANCE OF', type: 'multiple-choice', question: '¬øPara qu√© se usa IS INSTANCE OF?', options: ['Crear instancias', 'Verificar el tipo de un objeto', 'Comparar objetos', 'Contar instancias'], correct: 1, explanation: 'IS INSTANCE OF verifica si un objeto es de un tipo espec√≠fico o compatible.' },
                            { title: 'CAST - Conversi√≥n de Tipos', type: 'fill-blank', question: 'Realiza un cast de tipos:', code: 'lo_gerente = ______ lcl_gerente( lo_empleado ).', placeholder: 'Operador...', correct: 'cast', explanation: 'CAST convierte referencias entre tipos compatibles (downcasting/upcasting).' }
                        ],
                        'field-symbols': [
                            // Lecciones originales (1-5)
                            { title: 'Declaraci√≥n de Field Symbol', type: 'fill-blank', question: 'Declara un field symbol:', code: '______-SYMBOLS: <fs_empleado> TYPE ty_empleado.', placeholder: 'Palabra clave...', correct: 'field', explanation: 'FIELD-SYMBOLS declara un field symbol que act√∫a como puntero.' },
                            { title: 'Sintaxis de Field Symbol', type: 'multiple-choice', question: '¬øCu√°l es la sintaxis correcta para declarar un field symbol?', options: ['FIELD-SYMBOL: <fs_data> TYPE string', 'FIELD-SYMBOLS: <fs_data> TYPE string', 'FIELD-SYMBOL: fs_data TYPE string', 'FIELD-SYMBOLS: fs_data TYPE string'], correct: 1, explanation: 'FIELD-SYMBOLS con los s√≠mbolos < > es la sintaxis correcta.' },
                            { title: 'Asignaci√≥n de Field Symbol', type: 'fill-blank', question: 'Asigna una variable al field symbol:', code: '______ <fs_empleado> TO ls_empleado.', placeholder: 'Comando...', correct: 'assign', explanation: 'ASSIGN vincula un field symbol a una variable o √°rea de memoria.' },
                            { title: 'Verificaci√≥n de Asignaci√≥n', type: 'multiple-choice', question: '¬øC√≥mo verificas si un field symbol est√° asignado?', options: ['IF <fs_data> IS ASSIGNED', 'IF <fs_data> IS NOT INITIAL', 'IF <fs_data> IS BOUND', 'IF <fs_data> IS ACTIVE'], correct: 0, explanation: 'IS ASSIGNED verifica si un field symbol est√° apuntando a alg√∫n dato.' },
                            { title: 'Ventajas de Field Symbols', type: 'multiple-choice', question: '¬øCu√°l es la principal ventaja de usar field symbols?', options: ['Ocupan menos memoria', 'Son m√°s seguros', 'Mejoran el rendimiento al evitar copias de datos', 'Son m√°s f√°ciles de usar'], correct: 2, explanation: 'Los field symbols apuntan directamente a la memoria, evitando copias costosas de datos.' },
                            
                            // Lecciones adicionales (6-25)
                            { title: 'Field Symbol Gen√©rico', type: 'fill-blank', question: 'Declara un field symbol gen√©rico:', code: 'FIELD-SYMBOLS: <fs_any> TYPE ______.', placeholder: 'Tipo...', correct: 'any', explanation: 'TYPE ANY permite que el field symbol apunte a cualquier tipo de dato.' },
                            { title: 'ASSIGN con Casting', type: 'multiple-choice', question: '¬øC√≥mo asignas con conversi√≥n de tipo?', options: ['ASSIGN var TO <fs> TYPE tipo', 'ASSIGN var TO <fs> CASTING TYPE tipo', 'ASSIGN var TO <fs> AS tipo', 'ASSIGN var TO <fs> CONVERT tipo'], correct: 1, explanation: 'CASTING TYPE permite asignar con conversi√≥n de tipo.' },
                            { title: 'ASSIGN Component', type: 'fill-blank', question: 'Asigna un componente de estructura:', code: 'ASSIGN COMPONENT \'NOMBRE\' OF STRUCTURE ls_emp TO ______.', placeholder: 'Field symbol...', correct: '<fs_campo>', explanation: 'ASSIGN COMPONENT permite acceso din√°mico a componentes de estructuras.' },
                            { title: 'UNASSIGN', type: 'multiple-choice', question: '¬øC√≥mo desasignas un field symbol?', options: ['CLEAR <fs>', 'UNASSIGN <fs>', 'FREE <fs>', 'RESET <fs>'], correct: 1, explanation: 'UNASSIGN libera la asignaci√≥n del field symbol.' },
                            { title: 'Field Symbol en LOOP', type: 'fill-blank', question: 'Usa field symbol en un loop:', code: 'LOOP AT lt_datos ______ <fs_linea>.', placeholder: 'Palabra clave...', correct: 'assigning', explanation: 'ASSIGNING en LOOP permite modificar directamente los datos de la tabla.' },
                            { title: 'Field Symbol vs Reference', type: 'multiple-choice', question: '¬øCu√°l es m√°s eficiente para modificar datos en loops?', options: ['INTO work_area', 'REFERENCE INTO', 'ASSIGNING field-symbol', 'Son iguales'], correct: 2, explanation: 'ASSIGNING es m√°s eficiente porque no copia datos.' },
                            { title: 'ASSIGN con Offset', type: 'fill-blank', question: 'Asigna con desplazamiento:', code: 'ASSIGN lv_texto+5(10) TO ______.', placeholder: 'Field symbol...', correct: '<fs_parte>', explanation: 'Se puede asignar una porci√≥n de variable usando offset y longitud.' },
                            { title: 'TYPE ANY TABLE', type: 'multiple-choice', question: '¬øPara qu√© sirve TYPE ANY TABLE en field symbols?', options: ['Para cualquier estructura', 'Para tablas de cualquier tipo', 'Para tablas est√°ndar solo', 'No es v√°lido'], correct: 1, explanation: 'TYPE ANY TABLE permite que el field symbol apunte a cualquier tipo de tabla interna.' },
                            { title: 'ASSIGN DYNAMICO', type: 'fill-blank', question: 'Asignaci√≥n din√°mica por nombre:', code: 'ASSIGN (lv_nombre_var) TO ______.', placeholder: 'Field symbol...', correct: '<fs_dinamico>', explanation: 'Los par√©ntesis permiten asignaci√≥n din√°mica usando el contenido de una variable.' },
                            { title: 'Field Symbol de Tabla', type: 'multiple-choice', question: '¬øC√≥mo declaras un field symbol para tabla interna?', options: ['<fs_tab> TYPE TABLE', '<fs_tab> TYPE STANDARD TABLE', '<fs_tab> TYPE ANY TABLE', 'Todas son v√°lidas'], correct: 2, explanation: 'TYPE ANY TABLE es la forma m√°s flexible para field symbols de tabla.' },
                            { title: 'ASSIGN Local', type: 'multiple-choice', question: '¬øQu√© pasa si ASSIGN falla?', options: ['Error de sintaxis', 'Error en runtime', 'El field symbol queda sin asignar', 'Se asigna NULL'], correct: 2, explanation: 'Si ASSIGN falla, el field symbol queda sin asignar (IS NOT ASSIGNED).' },
                            { title: 'Field Symbol Estructurado', type: 'fill-blank', question: 'Field symbol con estructura espec√≠fica:', code: 'FIELD-SYMBOLS: <fs_emp> ______ STRUCTURE p0001.', placeholder: 'Palabras clave...', correct: 'type', explanation: 'TYPE STRUCTURE permite definir field symbols con estructura espec√≠fica.' },
                            { title: 'CASTING vs Normal', type: 'multiple-choice', question: '¬øCu√°ndo necesitas CASTING en ASSIGN?', options: ['Siempre', 'Cuando los tipos son incompatibles', 'Para mejorar performance', 'Nunca'], correct: 1, explanation: 'CASTING se usa cuando necesitas interpretar los datos como un tipo diferente.' },
                            { title: 'Field Symbol en WHERE', type: 'multiple-choice', question: '¬øPuedes usar field symbols en condiciones WHERE?', options: ['S√≠, siempre', 'Solo si est√° asignado', 'No, nunca', 'Solo en LOOP'], correct: 1, explanation: 'Los field symbols pueden usarse en WHERE si est√°n asignados.' },
                            { title: 'INCREMENT con Field Symbol', type: 'fill-blank', question: 'Incrementa valor usando field symbol:', code: 'ASSIGN lv_contador TO <fs_cont>.\n<fs_cont> = <fs_cont> ______ 1.', placeholder: 'Operador...', correct: '+', explanation: 'Los field symbols permiten operaciones directas sobre los datos apuntados.' },
                            { title: 'Field Symbol y Performance', type: 'multiple-choice', question: '¬øPor qu√© los field symbols mejoran performance en tablas grandes?', options: ['Usan menos CPU', 'Evitan copiar datos entre memoria', 'Son m√°s simples', 'Usan √≠ndices especiales'], correct: 1, explanation: 'Evitan el costo de copiar datos entre work area y tabla.' },
                            { title: 'DESCRIBE FIELD', type: 'fill-blank', question: 'Obt√©n informaci√≥n del field symbol:', code: '______ FIELD <fs_data> TYPE lv_tipo.', placeholder: 'Comando...', correct: 'describe', explanation: 'DESCRIBE FIELD obtiene informaci√≥n del tipo de dato apuntado.' },
                            { title: 'Field Symbol Anidado', type: 'multiple-choice', question: '¬øPuedes asignar un field symbol a otro field symbol?', options: ['No, da error', 'S√≠, con ASSIGN <fs1> TO <fs2>', 'Solo con CASTING', 'Solo si son del mismo tipo'], correct: 1, explanation: 'Es posible asignar field symbols a otros field symbols.' },
                            { title: 'Field Symbol en Par√°metros', type: 'multiple-choice', question: '¬øC√≥mo pasas un field symbol como par√°metro?', options: ['No se puede', 'Como CHANGING', 'Como TYPE ANY', 'Como REFERENCE'], correct: 2, explanation: 'Los field symbols se pasan como par√°metros TYPE ANY.' },
                            { title: 'L√≠mites de Field Symbols', type: 'multiple-choice', question: '¬øCu√°l es una limitaci√≥n de los field symbols?', options: ['No pueden modificar datos', 'Deben verificarse antes de usar', 'Solo funcionan con tablas', 'Son lentos'], correct: 1, explanation: 'Siempre debes verificar IS ASSIGNED antes de usar un field symbol.' }
                        ],
                        'modularizacion': [
                            // Lecciones originales (1-3)
                            { title: 'M√≥dulos de Funci√≥n', type: 'multiple-choice', question: '¬øCu√°l es la principal ventaja de los m√≥dulos de funci√≥n?', options: ['Son m√°s r√°pidos', 'Permiten reutilizaci√≥n de c√≥digo', 'Ocupan menos memoria', 'Son m√°s seguros'], correct: 1, explanation: 'Los m√≥dulos de funci√≥n permiten reutilizar c√≥digo y centralizar l√≥gica com√∫n.' },
                            { title: 'Llamada a Funci√≥n', type: 'fill-blank', question: 'Completa la llamada a un m√≥dulo de funci√≥n:', code: '______ FUNCTION \'Z_CALCULAR_IMPUESTO\'\n  EXPORTING\n    iv_importe = lv_importe\n  IMPORTING\n    ev_impuesto = lv_impuesto.', placeholder: 'Comando...', correct: 'call', explanation: 'CALL FUNCTION es el comando para ejecutar un m√≥dulo de funci√≥n.' },
                            { title: 'Verificaci√≥n de Funci√≥n', type: 'multiple-choice', question: '¬øQu√© debes verificar despu√©s de llamar a una funci√≥n?', options: ['SY-TABIX', 'SY-SUBRC', 'SY-INDEX', 'SY-UNAME'], correct: 1, explanation: 'SY-SUBRC indica si la funci√≥n se ejecut√≥ correctamente (0) o hubo error.' },
                            
                            // Lecciones adicionales (4-23)
                            { title: 'Grupos de Funciones', type: 'fill-blank', question: 'Los m√≥dulos de funci√≥n se agrupan en:', code: 'FUNCTION-POOL ______.', placeholder: 'Nombre del concepto...', correct: 'grupos', explanation: 'Los grupos de funciones (Function Groups) agrupan funciones relacionadas.' },
                            { title: 'Excepciones en Funciones', type: 'multiple-choice', question: '¬øC√≥mo manejas excepciones en CALL FUNCTION?', options: ['TRY-CATCH', 'EXCEPTIONS', 'ERROR HANDLING', 'ON ERROR'], correct: 1, explanation: 'EXCEPTIONS lista las posibles excepciones que puede lanzar la funci√≥n.' },
                            { title: 'RAISE en Funciones', type: 'fill-blank', question: 'Lanza una excepci√≥n en funci√≥n:', code: 'IF lv_error = \'X\'.\n  ______ error_occurred.\nENDIF.', placeholder: 'Comando...', correct: 'raise', explanation: 'RAISE lanza una excepci√≥n definida en la interfaz de la funci√≥n.' },
                            { title: 'Par√°metros TABLES', type: 'multiple-choice', question: '¬øPara qu√© se usa TABLES en funciones?', options: ['Para pasar tablas de base de datos', 'Para pasar tablas internas (obsoleto)', 'Para crear tablas', 'Para leer tablas'], correct: 1, explanation: 'TABLES era la forma antigua de pasar tablas internas, ahora se prefiere CHANGING.' },
                            { title: 'RFC - Remote Function Call', type: 'multiple-choice', question: '¬øQu√© permite una funci√≥n RFC?', options: ['Llamadas m√°s r√°pidas', 'Llamadas desde sistemas externos', 'Llamadas recursivas', 'Llamadas as√≠ncronas solo'], correct: 1, explanation: 'Las funciones RFC pueden ser llamadas desde otros sistemas SAP o externos.' },
                            { title: 'DESTINATION en RFC', type: 'fill-blank', question: 'Llama funci√≥n en otro sistema:', code: 'CALL FUNCTION \'Z_RFC_FUNCTION\' ______ \'SISTEMA_EXT\'.', placeholder: 'Palabra clave...', correct: 'destination', explanation: 'DESTINATION especifica el sistema destino para llamadas RFC.' },
                            { title: 'Funciones de Actualizaci√≥n', type: 'multiple-choice', question: '¬øQu√© caracter√≠stica tienen las funciones IN UPDATE TASK?', options: ['Son m√°s r√°pidas', 'Se ejecutan en proceso separado de actualizaci√≥n', 'No pueden fallar', 'Son s√≠ncronas'], correct: 1, explanation: 'IN UPDATE TASK ejecuta la funci√≥n en el proceso de actualizaci√≥n V1/V2.' },
                            { title: 'STARTING NEW TASK', type: 'multiple-choice', question: '¬øQu√© hace STARTING NEW TASK?', options: ['Reinicia la funci√≥n', 'Ejecuta en paralelo/as√≠ncrono', 'Crea una nueva funci√≥n', 'Agenda para despu√©s'], correct: 1, explanation: 'STARTING NEW TASK ejecuta la funci√≥n de forma as√≠ncrona en paralelo.' },
                            { title: 'PERFORMING...ON END', type: 'fill-blank', question: 'Callback para funci√≥n as√≠ncrona:', code: 'CALL FUNCTION \'FUNC\' STARTING NEW TASK \'T1\'\n  ______ return_handler ON END OF TASK.', placeholder: 'Palabra clave...', correct: 'performing', explanation: 'PERFORMING especifica la subrutina que se ejecuta cuando termina la tarea as√≠ncrona.' },
                            { title: 'WAIT FOR ASYNCHRONOUS', type: 'multiple-choice', question: '¬øC√≥mo esperas que terminen las tareas as√≠ncronas?', options: ['WAIT UNTIL', 'WAIT FOR ASYNCHRONOUS TASKS', 'SLEEP', 'PAUSE'], correct: 1, explanation: 'WAIT FOR ASYNCHRONOUS TASKS espera que terminen las tareas paralelas.' },
                            { title: 'Subrutinas - FORM', type: 'fill-blank', question: 'Define una subrutina:', code: '______ calcular_total.\n  "L√≥gica aqu√≠\nENDFORM.', placeholder: 'Palabra clave...', correct: 'form', explanation: 'FORM define una subrutina (m√©todo procedural antiguo).' },
                            { title: 'PERFORM', type: 'multiple-choice', question: '¬øC√≥mo llamas a una subrutina?', options: ['CALL FORM', 'EXECUTE', 'PERFORM', 'RUN'], correct: 2, explanation: 'PERFORM ejecuta una subrutina definida con FORM.' },
                            { title: 'USING vs CHANGING', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre USING y CHANGING en FORM?', options: ['No hay diferencia', 'USING: solo lectura, CHANGING: lectura/escritura', 'USING es m√°s r√°pido', 'CHANGING es obsoleto'], correct: 1, explanation: 'USING pasa par√°metros por valor (solo lectura), CHANGING por referencia (modificable).' },
                            { title: 'Includes de Programa', type: 'fill-blank', question: 'Incluye c√≥digo de otro programa:', code: '______ zinclude_common.', placeholder: 'Comando...', correct: 'include', explanation: 'INCLUDE inserta el c√≥digo de otro objeto de desarrollo.' },
                            { title: 'Macros', type: 'multiple-choice', question: '¬øC√≥mo defines un macro en ABAP?', options: ['MACRO...ENDMACRO', 'DEFINE...END-OF-DEFINITION', '#DEFINE', 'CREATE MACRO'], correct: 1, explanation: 'DEFINE...END-OF-DEFINITION define macros para reutilizar c√≥digo.' },
                            { title: 'Uso de Macros', type: 'fill-blank', question: 'Usa un macro definido:', code: 'DEFINE add_tax.\n  &1 = &1 * 1.16.\nEND-OF-DEFINITION.\n\n______ lv_precio.', placeholder: 'Nombre del macro...', correct: 'add_tax', explanation: 'Los macros se usan escribiendo su nombre seguido de los par√°metros.' },
                            { title: 'M√©todos vs Funciones', type: 'multiple-choice', question: '¬øCu√°l es una ventaja de m√©todos sobre funciones?', options: ['Son m√°s r√°pidos', 'Mejor encapsulaci√≥n y OO', 'Usan menos memoria', 'Son m√°s simples'], correct: 1, explanation: 'Los m√©todos ofrecen mejor encapsulaci√≥n y siguen principios orientados a objetos.' },
                            { title: 'BAPI', type: 'multiple-choice', question: '¬øQu√© es una BAPI?', options: ['Basic API', 'Business Application Programming Interface', 'Business API', 'Basic Application Interface'], correct: 1, explanation: 'BAPI son interfaces estandarizadas para procesos de negocio SAP.' },
                            { title: 'Caracter√≠sticas de BAPI', type: 'multiple-choice', question: '¬øQu√© caracter√≠stica NO tienen las BAPIs?', options: ['Son RFC-enabled', 'Tienen interfaz estable', 'Pueden modificar la base de datos directamente', 'Est√°n documentadas'], correct: 2, explanation: 'Las BAPIs no hacen COMMIT directo, debes usar BAPI_TRANSACTION_COMMIT.' }
                        ],
                        'debugging': [
                            // Lecciones originales (1-5)
                            { title: 'Activaci√≥n del Debugger', type: 'multiple-choice', question: '¬øCu√°l es la forma m√°s com√∫n de activar el debugger en ABAP?', options: ['F8', '/H en el campo de comandos', 'Ctrl+D', 'Alt+F12'], correct: 1, explanation: 'Escribir /H en el campo de comandos SAP activa el debugger para la siguiente acci√≥n.' },
                            { title: 'Tipos de Debugger', type: 'multiple-choice', question: '¬øCu√°les son los dos tipos principales de debugger en SAP?', options: ['Classic y Modern', 'Classical y New', 'Old y Advanced', 'Standard y Extended'], correct: 1, explanation: 'SAP tiene el Classical Debugger y el New Debugger (m√°s moderno y con mejor interfaz).' },
                            { title: 'Breakpoints de L√≠nea', type: 'fill-blank', question: 'Para poner un breakpoint en una l√≠nea espec√≠fica, haces doble clic en:', placeholder: 'D√≥nde haces clic...', correct: 'margen', explanation: 'Doble clic en el margen izquierdo del editor coloca un breakpoint en esa l√≠nea.' },
                            { title: 'Comando BREAK-POINT', type: 'fill-blank', question: 'Completa el comando para insertar un breakpoint din√°mico en el c√≥digo:', code: 'DATA: lv_valor TYPE i.\nlv_valor = 10.\n______-POINT.\nWRITE: lv_valor.', placeholder: 'Comando...', correct: 'break', explanation: 'BREAK-POINT inserta un breakpoint hard-coded que siempre detiene la ejecuci√≥n.' },
                            { title: 'Navegaci√≥n en el Debugger', type: 'multiple-choice', question: '¬øQu√© hace la tecla F5 en el debugger?', options: ['Ejecuta hasta el siguiente breakpoint', 'Ejecuta paso a paso (Step Into)', 'Sale del debugger', 'Ejecuta la l√≠nea actual sin entrar en subc√≥digo'], correct: 1, explanation: 'F5 ejecuta paso a paso entrando en funciones, m√©todos y subrutinas (Step Into).' },
                            
                            // Lecciones adicionales (6-25)
                            { title: 'BREAK usuario', type: 'fill-blank', question: 'Breakpoint solo para usuario espec√≠fico:', code: '______-POINT jperez.', placeholder: 'Comando...', correct: 'break', explanation: 'BREAK-POINT usuario activa el breakpoint solo para ese usuario.' },
                            { title: 'Breakpoint en Statement', type: 'multiple-choice', question: '¬øC√≥mo pones un breakpoint en todos los SELECT?', options: ['BREAK AT SELECT', 'Breakpoint at Statement', 'STOP SELECT', 'No es posible'], correct: 1, explanation: 'Breakpoint at Statement permite parar en todas las ocurrencias de un comando.' },
                            { title: 'Watchpoints - Creaci√≥n', type: 'fill-blank', question: 'Los watchpoints se activan cuando una variable:', code: 'Crear watchpoint para lv_contador cuando ______.', placeholder: 'Condici√≥n...', correct: 'cambia', explanation: 'Los watchpoints monitorean cambios en variables espec√≠ficas.' },
                            { title: 'Watchpoint Condicional', type: 'multiple-choice', question: '¬øPuedes poner condiciones en watchpoints?', options: ['No, solo detectan cambios', 'S√≠, con operadores de comparaci√≥n', 'Solo para n√∫meros', 'Solo = y <>'], correct: 1, explanation: 'Los watchpoints pueden tener condiciones como variable > 100.' },
                            { title: 'Variables en Debugger', type: 'multiple-choice', question: '¬øC√≥mo cambias el valor de una variable en debug?', options: ['No se puede', 'Doble clic y editar', 'Con comando CHANGE', 'Solo en Classical debugger'], correct: 1, explanation: 'Puedes hacer doble clic en el valor y editarlo directamente.' },
                            { title: 'Debugger - Layers', type: 'fill-blank', question: 'Para no entrar en c√≥digo est√°ndar SAP usas:', code: 'Settings -> ______ Into System Code OFF', placeholder: 'Acci√≥n...', correct: 'step', explanation: 'Desactivar "Step Into System Code" evita entrar en c√≥digo est√°ndar SAP.' },
                            { title: 'Call Stack', type: 'multiple-choice', question: '¬øQu√© muestra el Call Stack?', options: ['Variables locales', 'La secuencia de llamadas hasta el punto actual', 'Errores del sistema', 'Memoria usada'], correct: 1, explanation: 'El Call Stack muestra la cadena de llamadas que llevaron al punto actual.' },
                            { title: 'Debugger Scripts', type: 'multiple-choice', question: '¬øPara qu√© sirven los Debugger Scripts?', options: ['Guardar breakpoints', 'Automatizar acciones repetitivas en debug', 'Generar documentaci√≥n', 'Depurar scripts'], correct: 1, explanation: 'Los scripts automatizan tareas repetitivas durante el debugging.' },
                            { title: 'Layer Debugging', type: 'fill-blank', question: 'Para debuggear solo tu c√≥digo usas:', code: 'Filtrar por ______ de desarrollo', placeholder: 'Elemento...', correct: 'paquete', explanation: 'Puedes filtrar el debugging por paquete de desarrollo para ver solo tu c√≥digo.' },
                            { title: 'Memory Inspector', type: 'multiple-choice', question: '¬øQu√© analiza el Memory Inspector?', options: ['Velocidad del c√≥digo', 'Uso y fugas de memoria', 'Variables globales', 'Base de datos'], correct: 1, explanation: 'Memory Inspector ayuda a identificar uso excesivo y fugas de memoria.' },
                            { title: 'Diff Tool en Debug', type: 'multiple-choice', question: '¬øPara qu√© usas la herramienta Diff en debugging?', options: ['Comparar versiones', 'Comparar valores de variables entre puntos', 'Ver diferencias de c√≥digo', 'Comparar usuarios'], correct: 1, explanation: 'Diff compara valores de estructuras/tablas entre diferentes momentos.' },
                            { title: 'Breakpoint Externo', type: 'fill-blank', question: 'Para WebServices o RFC usas breakpoints:', code: 'Utilities -> External ______', placeholder: 'Tipo...', correct: 'breakpoints', explanation: 'External Breakpoints funcionan para debugging de llamadas externas.' },
                            { title: 'Debugging Batch Jobs', type: 'multiple-choice', question: '¬øC√≥mo debuggeas un job en background?', options: ['No es posible', 'JDBG en SM37', '/H antes de ejecutar', 'Solo con traces'], correct: 1, explanation: 'JDBG (Job Debug) en SM37 permite capturar jobs para debugging.' },
                            { title: 'Breakpoint Save', type: 'multiple-choice', question: '¬øCu√°nto duran los breakpoints de sesi√≥n?', options: ['Para siempre', 'Hasta cerrar sesi√≥n', '2 horas', '1 d√≠a'], correct: 1, explanation: 'Los breakpoints de sesi√≥n se pierden al cerrar la sesi√≥n SAP.' },
                            { title: 'System Debugging', type: 'fill-blank', question: 'Para debug de c√≥digo de sistema necesitas:', code: 'Settings -> ______ Debugging ON', placeholder: 'Tipo...', correct: 'system', explanation: 'System Debugging permite entrar en c√≥digo de sistema y actualizaciones.' },
                            { title: 'Debugging - Display Mode', type: 'multiple-choice', question: '¬øQu√© vista prefieres para tablas grandes?', options: ['Cl√°sica', 'Tabla ALV', 'Texto', 'Hexadecimal'], correct: 1, explanation: 'La vista Table (ALV) es mejor para visualizar tablas internas grandes.' },
                            { title: 'Save Variable Values', type: 'multiple-choice', question: '¬øC√≥mo exportas valores de variables?', options: ['No se puede', 'Download to file', 'Copy to clipboard', 'B y C son correctas'], correct: 3, explanation: 'Puedes descargar a archivo o copiar al portapapeles valores de variables.' },
                            { title: 'Debugging Authorization', type: 'fill-blank', question: 'El objeto de autorizaci√≥n para debugging es:', code: 'S_DEVELOP con ACTVT = ______', placeholder: 'Valor...', correct: '03', explanation: 'S_DEVELOP con actividad 03 (Display) permite debugging.' },
                            { title: 'Two-Process Debugging', type: 'multiple-choice', question: '¬øCu√°ndo necesitas debugging de dos procesos?', options: ['Siempre', 'Para RFC y actualizaciones', 'Nunca', 'Solo en PRD'], correct: 1, explanation: 'RFC y procesos de actualizaci√≥n requieren debugging de dos procesos.' }
                        ]
                    },
                    // ABAP AVANZADO
                    advanced: {
                        'patrones-diseno': [
                            // Lecciones originales (1-2)
                            { title: 'Factory Pattern', type: 'multiple-choice', question: '¬øCu√°l es el beneficio principal del patr√≥n Factory?', options: ['Mejora el rendimiento', 'Centraliza la creaci√≥n de objetos', 'Reduce el uso de memoria', 'Simplifica la herencia'], correct: 1, explanation: 'El patr√≥n Factory centraliza y controla la creaci√≥n de objetos.' },
                            { title: 'Singleton Pattern', type: 'fill-blank', question: 'Implementa el patr√≥n Singleton:', code: 'CLASS-DATA: go_instance TYPE REF TO lcl_singleton.\nCLASS-METHODS: get_instance RETURNING VALUE(ro_instance) TYPE REF TO lcl_singleton.\n\nMETHOD get_instance.\n  IF go_instance IS ______.\n    go_instance = NEW #( ).\n  ENDIF.\n  ro_instance = go_instance.\nENDMETHOD.', placeholder: 'Condici√≥n...', correct: 'initial', explanation: 'Se verifica si la instancia IS INITIAL antes de crearla por primera vez.' },
                            
                            // Lecciones adicionales (3-22)
                            { title: 'MVC Pattern', type: 'multiple-choice', question: '¬øQu√© separa el patr√≥n MVC?', options: ['Datos, L√≥gica y Base de Datos', 'Modelo, Vista y Controlador', 'M√≥dulos, Variables y Clases', 'Main, Validation y Calculation'], correct: 1, explanation: 'MVC separa Modelo (datos), Vista (presentaci√≥n) y Controlador (l√≥gica).' },
                            { title: 'Observer Pattern', type: 'fill-blank', question: 'En Observer, los objetos que escuchan cambios se llaman:', code: 'CLASS lcl_subject DEFINITION.\n  EVENTS: data_changed.\n  METHODS: notify_______.\nENDCLASS.', placeholder: 'Qui√©nes...', correct: 'observers', explanation: 'Los observers son notificados cuando el subject cambia.' },
                            { title: 'Strategy Pattern', type: 'multiple-choice', question: '¬øQu√© permite el patr√≥n Strategy?', options: ['Crear objetos', 'Cambiar algoritmos en runtime', 'Observar cambios', 'Compartir instancias'], correct: 1, explanation: 'Strategy permite cambiar el algoritmo/comportamiento din√°micamente.' },
                            { title: 'Adapter Pattern', type: 'multiple-choice', question: '¬øPara qu√© sirve el patr√≥n Adapter?', options: ['Adaptar memoria', 'Hacer compatibles interfaces incompatibles', 'Mejorar rendimiento', 'Crear objetos'], correct: 1, explanation: 'Adapter permite que clases con interfaces incompatibles trabajen juntas.' },
                            { title: 'Decorator Pattern', type: 'fill-blank', question: 'Decorator a√±ade funcionalidad sin modificar:', code: 'CLASS lcl_decorator.\n  DATA: mo_component TYPE REF TO lif_component.\n  "A√±ade comportamiento a mo_component sin cambiar su ______\nENDCLASS.', placeholder: 'Qu√© no cambia...', correct: 'clase', explanation: 'Decorator extiende funcionalidad sin modificar la clase original.' },
                            { title: 'Command Pattern', type: 'multiple-choice', question: '¬øQu√© encapsula el patr√≥n Command?', options: ['Datos', 'Una petici√≥n como objeto', 'Resultados', 'Errores'], correct: 1, explanation: 'Command encapsula una petici√≥n/acci√≥n como un objeto ejecutable.' },
                            { title: 'Iterator Pattern', type: 'multiple-choice', question: '¬øQu√© proporciona el patr√≥n Iterator?', options: ['Iteraci√≥n m√°s r√°pida', 'Acceso secuencial sin exponer estructura interna', 'Bucles infinitos', '√çndices autom√°ticos'], correct: 1, explanation: 'Iterator proporciona una forma de acceder secuencialmente sin exponer la implementaci√≥n.' },
                            { title: 'Template Method', type: 'fill-blank', question: 'Template Method define el esqueleto en clase:', code: 'CLASS lcl_abstract.\n  METHODS: process FINAL.\n  METHODS: step1 ______.\nENDCLASS.', placeholder: 'Tipo de m√©todo...', correct: 'abstract', explanation: 'Los pasos espec√≠ficos se definen como abstract para que las subclases los implementen.' },
                            { title: 'Facade Pattern', type: 'multiple-choice', question: '¬øCu√°l es el prop√≥sito del patr√≥n Facade?', options: ['Decorar objetos', 'Simplificar interfaz compleja', 'Crear objetos', 'Observar cambios'], correct: 1, explanation: 'Facade proporciona una interfaz simplificada a un subsistema complejo.' },
                            { title: 'Proxy Pattern', type: 'multiple-choice', question: '¬øPara qu√© casos usar√≠as Proxy?', options: ['Solo para mejorar velocidad', 'Control de acceso, lazy loading, cache', 'Solo para seguridad', 'Solo para logging'], correct: 1, explanation: 'Proxy puede controlar acceso, implementar lazy loading, cache, logging, etc.' },
                            { title: 'Chain of Responsibility', type: 'fill-blank', question: 'En Chain of Responsibility cada manejador:', code: 'METHOD handle_request.\n  IF can_handle( ).\n    process( ).\n  ELSE.\n    mo_next->______( ).\n  ENDIF.\nENDMETHOD.', placeholder: 'Acci√≥n...', correct: 'handle_request', explanation: 'Si no puede manejar la petici√≥n, la pasa al siguiente en la cadena.' },
                            { title: 'Builder Pattern', type: 'multiple-choice', question: '¬øCu√°ndo es √∫til el patr√≥n Builder?', options: ['Objetos simples', 'Objetos complejos con muchos par√°metros', 'Solo para strings', 'Solo para tablas'], correct: 1, explanation: 'Builder es √∫til para construir objetos complejos paso a paso.' },
                            { title: 'Prototype Pattern', type: 'multiple-choice', question: '¬øC√≥mo crea objetos el patr√≥n Prototype?', options: ['Desde cero', 'Clonando instancias existentes', 'Con factory', 'Con singleton'], correct: 1, explanation: 'Prototype crea nuevos objetos clonando instancias prototipo.' },
                            { title: 'Flyweight Pattern', type: 'fill-blank', question: 'Flyweight optimiza memoria compartiendo:', code: 'CLASS lcl_flyweight_factory.\n  "Comparte objetos con estado ______ com√∫n\nENDCLASS.', placeholder: 'Tipo de estado...', correct: 'intrinseco', explanation: 'Flyweight comparte el estado intr√≠nseco (com√∫n) entre m√∫ltiples objetos.' },
                            { title: 'Memento Pattern', type: 'multiple-choice', question: '¬øQu√© permite el patr√≥n Memento?', options: ['Mejorar memoria', 'Guardar y restaurar estado de objetos', 'Memorizar m√©todos', 'Cache de datos'], correct: 1, explanation: 'Memento captura y externaliza el estado para poder restaurarlo despu√©s.' },
                            { title: 'State Pattern', type: 'multiple-choice', question: '¬øQu√© cambia en el patr√≥n State?', options: ['Los datos', 'El comportamiento seg√∫n estado interno', 'La interfaz', 'La herencia'], correct: 1, explanation: 'State permite que un objeto cambie su comportamiento cuando cambia su estado.' },
                            { title: 'Visitor Pattern', type: 'fill-blank', question: 'Visitor separa algoritmos de:', code: 'METHOD accept_visitor.\n  visitor->visit_me( me ).\n  "Separa operaciones de ______ de objetos\nENDMETHOD.', placeholder: 'Qu√© separa...', correct: 'estructura', explanation: 'Visitor separa algoritmos de la estructura de objetos sobre la que operan.' },
                            { title: 'Dependency Injection', type: 'multiple-choice', question: '¬øQu√© principio sigue Dependency Injection?', options: ['DRY', 'Inversi√≥n de Control', 'KISS', 'YAGNI'], correct: 1, explanation: 'DI implementa Inversi√≥n de Control: las dependencias se inyectan, no se crean internamente.' },
                            { title: 'SOLID - Single Responsibility', type: 'multiple-choice', question: '¬øQu√© dice el principio Single Responsibility?', options: ['Una clase, una l√≠nea', 'Una clase, una raz√≥n para cambiar', 'Una clase, un m√©todo', 'Una clase, un atributo'], correct: 1, explanation: 'Cada clase debe tener una √∫nica responsabilidad o raz√≥n para cambiar.' }
                        ],
                        'performance': [
                            // Lecciones originales (1-2)
                            { title: 'Optimizaci√≥n SQL', type: 'multiple-choice', question: '¬øCu√°l es la mejor pr√°ctica para consultas SQL en ABAP?', options: ['Usar SELECT *', 'Usar SELECT con campos espec√≠ficos', 'Usar m√∫ltiples SELECT individuales', 'Evitar WHERE clause'], correct: 1, explanation: 'SELECT con campos espec√≠ficos reduce transferencia de datos y mejora rendimiento.' },
                            { title: '√çndices de Base de Datos', type: 'fill-blank', question: 'Los √≠ndices mejoran el rendimiento de consultas con cl√°usula ______:', placeholder: 'Cl√°usula SQL...', correct: 'where', explanation: 'Los √≠ndices aceleran las consultas que usan WHERE para filtrar datos.' },
                            
                            // Lecciones adicionales (3-22)
                            { title: 'SELECT SINGLE vs UP TO 1', type: 'multiple-choice', question: '¬øCu√°ndo usar SELECT SINGLE?', options: ['Siempre que quieras un registro', 'Solo cuando buscas por clave primaria completa', 'Es igual que UP TO 1 ROWS', 'Para mejorar performance'], correct: 1, explanation: 'SELECT SINGLE requiere especificar la clave primaria completa.' },
                            { title: 'FOR ALL ENTRIES', type: 'fill-blank', question: 'Antes de FOR ALL ENTRIES verifica:', code: 'IF lt_keys[] IS NOT ______.\n  SELECT * FROM tabla\n    FOR ALL ENTRIES IN lt_keys\n    WHERE campo = lt_keys-campo.\nENDIF.', placeholder: 'Condici√≥n...', correct: 'initial', explanation: 'Siempre verifica que la tabla no est√© vac√≠a antes de FOR ALL ENTRIES.' },
                            { title: 'Nested SELECTs', type: 'multiple-choice', question: '¬øPor qu√© evitar SELECTs anidados?', options: ['Son ilegales', 'Multiplican accesos a BD', 'No funcionan', 'Son muy complejos'], correct: 1, explanation: 'SELECTs anidados generan N+1 accesos a base de datos, degradando performance.' },
                            { title: 'Buffer de Tablas', type: 'multiple-choice', question: '¬øQu√© comando bypasses el buffer de SAP?', options: ['SELECT DIRECT', 'SELECT BYPASSING BUFFER', 'SELECT NO BUFFER', 'SELECT SINGLE'], correct: 1, explanation: 'BYPASSING BUFFER fuerza lectura desde base de datos, ignorando el buffer.' },
                            { title: 'INNER JOIN vs FOR ALL ENTRIES', type: 'fill-blank', question: 'Para tablas grandes, ______ es generalmente m√°s eficiente:', placeholder: 'T√©cnica...', correct: 'join', explanation: 'JOIN suele ser m√°s eficiente que FOR ALL ENTRIES para vol√∫menes grandes.' },
                            { title: 'Package Size', type: 'multiple-choice', question: '¬øPara qu√© sirve PACKAGE SIZE en SELECT?', options: ['Comprimir datos', 'Procesar registros en bloques', 'Ordenar resultados', 'Filtrar datos'], correct: 1, explanation: 'PACKAGE SIZE procesa resultados en bloques para evitar memory overflow.' },
                            { title: 'Agregaciones en DB', type: 'multiple-choice', question: '¬øD√≥nde es mejor hacer SUM, COUNT, etc.?', options: ['En ABAP despu√©s del SELECT', 'En la base de datos con SELECT', 'Es indiferente', 'En el presentation server'], correct: 1, explanation: 'Las agregaciones en la base de datos son mucho m√°s eficientes.' },
                            { title: 'DISTINCT vs DELETE ADJACENT', type: 'fill-blank', question: 'Para eliminar duplicados, ______ en la DB es m√°s eficiente:', placeholder: 'Comando...', correct: 'distinct', explanation: 'DISTINCT elimina duplicados en la base de datos, m√°s eficiente que en ABAP.' },
                            { title: 'Hints de Base de Datos', type: 'multiple-choice', question: '¬øCu√°ndo usar hints de base de datos?', options: ['Siempre', 'Como √∫ltimo recurso', 'Nunca', 'En desarrollo solo'], correct: 1, explanation: 'Los hints deben ser √∫ltimo recurso ya que son espec√≠ficos del motor de BD.' },
                            { title: 'ST05 - SQL Trace', type: 'multiple-choice', question: '¬øQu√© informaci√≥n proporciona ST05?', options: ['Uso de memoria', 'Tiempo y plan de ejecuci√≥n SQL', 'Errores de sintaxis', 'Usuarios conectados'], correct: 1, explanation: 'ST05 muestra tiempos, planes de ejecuci√≥n y estad√≠sticas de statements SQL.' },
                            { title: 'STAD - An√°lisis Runtime', type: 'fill-blank', question: 'La transacci√≥n ______ muestra estad√≠sticas de runtime:', placeholder: 'Transacci√≥n...', correct: 'stad', explanation: 'STAD proporciona estad√≠sticas detalladas de tiempo de ejecuci√≥n por programa.' },
                            { title: 'Read vs Loop', type: 'multiple-choice', question: '¬øCu√°ndo es READ TABLE m√°s eficiente que LOOP?', options: ['Siempre', 'Para buscar un registro espec√≠fico', 'Nunca', 'Solo en tablas peque√±as'], correct: 1, explanation: 'READ TABLE es m√°s eficiente para acceder a un registro espec√≠fico.' },
                            { title: 'Tabla SORTED', type: 'multiple-choice', question: '¬øCu√°ndo usar tablas SORTED?', options: ['Siempre', 'Muchas b√∫squedas, pocas inserciones', 'Muchas inserciones', 'Nunca'], correct: 1, explanation: 'SORTED tables son eficientes para b√∫squedas frecuentes pero costosas para inserciones.' },
                            { title: 'Tabla HASHED', type: 'fill-blank', question: 'Las tablas HASHED tienen acceso O(1) con:', code: 'READ TABLE lt_hash WITH TABLE KEY ______.', placeholder: 'Tipo de clave...', correct: 'completa', explanation: 'HASHED tables requieren especificar la clave completa para acceso O(1).' },
                            { title: 'Secondary Keys', type: 'multiple-choice', question: '¬øCu√°ndo a√±adir claves secundarias a tablas?', options: ['Siempre', 'Para accesos frecuentes por campos no-clave', 'Nunca', 'Solo en HASHED'], correct: 1, explanation: 'Las claves secundarias mejoran performance de accesos por campos no-clave.' },
                            { title: 'ABAP Memory', type: 'multiple-choice', question: '¬øQu√© comando libera memoria inmediatamente?', options: ['CLEAR', 'REFRESH', 'FREE', 'DELETE'], correct: 2, explanation: 'FREE libera inmediatamente la memoria, mientras CLEAR/REFRESH solo vac√≠an contenido.' },
                            { title: 'String Operations', type: 'fill-blank', question: 'Para concatenaci√≥n masiva usa:', code: 'DATA(lv_result) = |{ lv_1 }{ lv_2 }{ lv_3 }|.\n"M√°s eficiente que ______ m√∫ltiples"', placeholder: 'Operaci√≥n...', correct: 'concatenate', explanation: 'String templates son m√°s eficientes que CONCATENATE m√∫ltiples.' },
                            { title: 'Parallel Processing', type: 'multiple-choice', question: '¬øC√≥mo implementas procesamiento paralelo?', options: ['M√∫ltiples programas', 'CALL FUNCTION STARTING NEW TASK', 'Loops paralelos', 'No es posible'], correct: 1, explanation: 'STARTING NEW TASK permite procesamiento as√≠ncrono en paralelo.' },
                            { title: 'Internal Table Operations', type: 'multiple-choice', question: '¬øQu√© operaci√≥n es m√°s costosa?', options: ['APPEND', 'INSERT al inicio', 'DELETE al final', 'MODIFY'], correct: 1, explanation: 'INSERT al inicio requiere mover todos los registros existentes.' },
                            { title: 'Code Inspector', type: 'fill-blank', question: 'La transacci√≥n ______ analiza performance del c√≥digo:', placeholder: 'Herramienta...', correct: 'sci', explanation: 'SCI (Code Inspector) detecta problemas de performance y calidad en el c√≥digo.' }
                        ]
                    }
                };

                // ESQUEMAS SAP - COMPLETAR TODAS LAS LECCIONES
                lessons.schemas = {
                    beginner: {
                        'conceptos-basicos': [
                            // Lecciones originales (1-19)
                            { title: '¬øQu√© es un Esquema SAP?', type: 'multiple-choice', question: '¬øCu√°l es la definici√≥n correcta de un esquema en SAP?', options: ['Una tabla de base de datos', 'Un conjunto de reglas y c√°lculos que se ejecutan autom√°ticamente', 'Un reporte de datos', 'Una transacci√≥n espec√≠fica'], correct: 1, explanation: 'Un esquema SAP es un conjunto de reglas, c√°lculos y validaciones que se ejecutan autom√°ticamente en procesos espec√≠ficos.' },
                            { title: 'Tipos de Esquemas', type: 'multiple-choice', question: '¬øCu√°les son los tres tipos principales de esquemas en SAP?', options: ['C√°lculo, Validaci√≥n y Sustituci√≥n', 'Entrada, Proceso y Salida', 'Maestro, Transaccional y Hist√≥rico', 'Activo, Pasivo y Neutral'], correct: 0, explanation: 'Los tres tipos principales son: Esquemas de C√°lculo, Esquemas de Validaci√≥n y Esquemas de Sustituci√≥n.' },
                            { title: 'Estructura de un Esquema', type: 'fill-blank', question: 'Un esquema SAP est√° compuesto por una secuencia de ______:', placeholder: 'Completa la palabra...', correct: 'pasos', explanation: 'Los esquemas est√°n compuestos por una secuencia de pasos que se ejecutan en orden.' },
                            { title: 'Pasos en un Esquema', type: 'multiple-choice', question: '¬øQu√© elementos principales contiene un paso de esquema?', options: ['Solo una condici√≥n', 'Solo una cuenta', 'Condici√≥n, Cuenta y Asignaci√≥n', 'Solo una asignaci√≥n'], correct: 2, explanation: 'Cada paso contiene: Condici√≥n (cu√°ndo se ejecuta), Cuenta (qu√© cuenta afecta) y Asignaci√≥n (c√≥mo se calcula).' },
                            { title: 'Condiciones en Esquemas', type: 'fill-blank', question: 'Las condiciones en los esquemas se eval√∫an como ______ o ______:', code: 'Paso: 010\nCondici√≥n: KOART = \'D\'\nCuenta: 400000\nAsignaci√≥n: +', placeholder: 'Dos estados posibles...', correct: 'verdadero', explanation: 'Las condiciones se eval√∫an como Verdadero (TRUE) o Falso (FALSE) para determinar si el paso se ejecuta.' },
                            { title: 'Tipos de Asignaci√≥n', type: 'multiple-choice', question: '¬øCu√°l es el significado del signo "+" en la asignaci√≥n de un esquema?', options: ['Resta el importe', 'Suma el importe', 'Multiplica el importe', 'Ignora el importe'], correct: 1, explanation: 'El signo "+" significa que el importe se suma (d√©bito), mientras que "-" significa que se resta (cr√©dito).' },
                            { title: 'Secuencia de Pasos', type: 'fill-blank', question: 'Los pasos en un esquema se numeran t√≠picamente de ______ en ______:', code: 'Paso: 010\nPaso: 020\nPaso: 030\nPaso: 040', placeholder: 'Incremento num√©rico...', correct: '10', explanation: 'Los pasos se numeran t√≠picamente de 10 en 10 (010, 020, 030...) para permitir insertar pasos intermedios.' },
                            { title: 'Ejecuci√≥n Condicional', type: 'multiple-choice', question: '¬øQu√© sucede si la condici√≥n de un paso es FALSE?', options: ['Se ejecuta el paso', 'Se omite el paso', 'Se detiene el esquema', 'Se genera un error'], correct: 1, explanation: 'Si la condici√≥n es FALSE, el paso se omite y el esquema contin√∫a con el siguiente paso.' },
                            { title: 'Cuentas en Esquemas', type: 'fill-blank', question: 'En los esquemas de contabilizaci√≥n, las cuentas se especifican usando n√∫meros de ______:', placeholder: 'Tipo de cuenta...', correct: 'mayor', explanation: 'Las cuentas se especifican usando n√∫meros de cuenta de mayor (GL accounts).' },
                            { title: 'Elementos de Control', type: 'multiple-choice', question: '¬øCu√°l es la funci√≥n del elemento de control en un esquema?', options: ['Almacenar datos', 'Controlar el flujo de ejecuci√≥n', 'Generar reportes', 'Validar usuarios'], correct: 1, explanation: 'Los elementos de control determinan el flujo de ejecuci√≥n del esquema, como saltos condicionales o bucles.' },
                            { title: 'Esquemas de C√°lculo', type: 'multiple-choice', question: '¬øEn qu√© m√≥dulo se usan principalmente los esquemas de c√°lculo?', options: ['Finanzas (FI)', 'Recursos Humanos (HR)', 'Materiales (MM)', 'Ventas (SD)'], correct: 1, explanation: 'Los esquemas de c√°lculo se usan principalmente en HR para calcular n√≥minas y beneficios.' },
                            { title: 'Esquemas de Validaci√≥n', type: 'fill-blank', question: 'Los esquemas de validaci√≥n verifican que los datos cumplan con ______:', placeholder: 'Qu√© verifican...', correct: 'reglas', explanation: 'Los esquemas de validaci√≥n verifican que los datos cumplan con reglas de negocio espec√≠ficas.' },
                            { title: 'Esquemas de Sustituci√≥n', type: 'multiple-choice', question: '¬øQu√© hacen los esquemas de sustituci√≥n?', options: ['Validan datos', 'Calculan importes', 'Reemplazan valores autom√°ticamente', 'Generan reportes'], correct: 2, explanation: 'Los esquemas de sustituci√≥n reemplazan autom√°ticamente valores en campos espec√≠ficos.' },
                            { title: 'Activaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øCu√°ndo se ejecutan los esquemas en SAP?', options: ['Solo manualmente', 'Autom√°ticamente durante transacciones espec√≠ficas', 'Solo en batch jobs', 'Solo al final del d√≠a'], correct: 1, explanation: 'Los esquemas se ejecutan autom√°ticamente durante las transacciones donde est√°n configurados.' },
                            { title: 'Orden de Ejecuci√≥n', type: 'fill-blank', question: 'Los pasos de un esquema se ejecutan en orden ______:', placeholder: 'Tipo de orden...', correct: 'secuencial', explanation: 'Los pasos se ejecutan en orden secuencial seg√∫n su numeraci√≥n.' },
                            { title: 'Variables de Sistema en Esquemas', type: 'multiple-choice', question: '¬øQu√© variable del sistema contiene la fecha actual en esquemas?', options: ['SY-DATUM', 'SY-UZEIT', 'SY-MANDT', 'SY-LANGU'], correct: 0, explanation: 'SY-DATUM contiene la fecha actual del sistema y se puede usar en condiciones de esquemas.' },
                            { title: 'Esquemas Jer√°rquicos', type: 'multiple-choice', question: '¬øQu√© permite la jerarqu√≠a en esquemas complejos?', options: ['Solo validaci√≥n de datos', 'Llamar a otros esquemas desde un esquema principal', 'Mejorar el rendimiento', 'Reducir la complejidad'], correct: 1, explanation: 'La jerarqu√≠a permite que un esquema principal llame a sub-esquemas para modularizar la l√≥gica.' },
                            { title: 'Contexto de Esquemas', type: 'fill-blank', question: 'El contexto determina en qu√© ______ del proceso se ejecuta el esquema:', placeholder: 'Momento espec√≠fico...', correct: 'momento', explanation: 'El contexto define cu√°ndo y en qu√© momento del proceso de negocio se ejecuta el esquema.' },
                            { title: 'Esquemas Din√°micos', type: 'multiple-choice', question: '¬øQu√© caracter√≠stica tienen los esquemas din√°micos?', options: ['Se ejecutan m√°s r√°pido', 'Pueden modificar su comportamiento seg√∫n datos en tiempo de ejecuci√≥n', 'Solo funcionan en batch', 'No requieren configuraci√≥n'], correct: 1, explanation: 'Los esquemas din√°micos adaptan su comportamiento seg√∫n los datos y condiciones en tiempo de ejecuci√≥n.' },
                            
                            // Lecciones adicionales (20-30)
                            { title: 'Esquemas Est√°ndar SAP', type: 'multiple-choice', question: '¬øPor qu√© no debes modificar esquemas est√°ndar?', options: ['Son muy complejos', 'Se pierden en actualizaciones', 'No funcionan bien', 'SAP no lo permite'], correct: 1, explanation: 'Las modificaciones a esquemas est√°ndar se pierden en actualizaciones del sistema.' },
                            { title: 'Copias de Esquemas', type: 'fill-blank', question: 'Los esquemas copiados deben nombrarse con prefijo ______ o Y:', placeholder: 'Letra...', correct: 'z', explanation: 'Los objetos cliente deben comenzar con Z o Y para diferenciarse de los est√°ndar.' },
                            { title: 'Esquemas por Pa√≠s', type: 'multiple-choice', question: '¬øPor qu√© existen esquemas espec√≠ficos por pa√≠s?', options: ['Idiomas diferentes', 'Requisitos legales y fiscales √∫nicos', 'Monedas diferentes', 'Preferencias de usuario'], correct: 1, explanation: 'Cada pa√≠s tiene requisitos legales y fiscales √∫nicos que requieren esquemas espec√≠ficos.' },
                            { title: 'Esquemas de N√≥mina', type: 'multiple-choice', question: '¬øQu√© calculan los esquemas de n√≥mina?', options: ['Solo salario base', 'Salario, impuestos, deducciones y beneficios', 'Solo impuestos', 'Solo horas trabajadas'], correct: 1, explanation: 'Los esquemas de n√≥mina calculan todos los componentes: salario, impuestos, deducciones, beneficios, etc.' },
                            { title: 'Funciones en Esquemas', type: 'fill-blank', question: 'Los esquemas pueden llamar ______ para c√°lculos complejos:', placeholder: 'Qu√© pueden llamar...', correct: 'funciones', explanation: 'Las funciones permiten realizar c√°lculos complejos que ser√≠an dif√≠ciles solo con pasos.' },
                            { title: 'Operaciones en Esquemas', type: 'multiple-choice', question: '¬øQu√© operaciones matem√°ticas soportan los esquemas?', options: ['Solo suma y resta', 'Suma, resta, multiplicaci√≥n y divisi√≥n', 'Todas las operaciones matem√°ticas', 'Solo porcentajes'], correct: 1, explanation: 'Los esquemas soportan operaciones b√°sicas: suma (+), resta (-), multiplicaci√≥n (*) y divisi√≥n (/).' },
                            { title: 'Constantes en Esquemas', type: 'multiple-choice', question: '¬øD√≥nde se definen las constantes usadas en esquemas?', options: ['En el c√≥digo ABAP', 'En tablas de customizing', 'En el esquema mismo', 'No se pueden usar constantes'], correct: 1, explanation: 'Las constantes se mantienen en tablas de customizing para facilitar cambios sin modificar esquemas.' },
                            { title: 'Esquemas y Performance', type: 'fill-blank', question: 'Para mejorar performance, agrupa pasos similares y evita ______ innecesarias:', placeholder: 'Qu√© evitar...', correct: 'condiciones', explanation: 'Evitar condiciones complejas innecesarias mejora el rendimiento del esquema.' },
                            { title: 'Log de Esquemas', type: 'multiple-choice', question: '¬øQu√© informaci√≥n guarda el log de ejecuci√≥n de esquemas?', options: ['Solo errores', 'Cada paso ejecutado y su resultado', 'Solo el resultado final', 'No hay log'], correct: 1, explanation: 'El log detallado muestra cada paso ejecutado, condiciones evaluadas y resultados.' },
                            { title: 'Esquemas en Producci√≥n', type: 'multiple-choice', question: '¬øQu√© precauci√≥n es cr√≠tica antes de transportar esquemas a producci√≥n?', options: ['Documentar cambios', 'Probar exhaustivamente en QA', 'Informar a usuarios', 'Todas las anteriores'], correct: 3, explanation: 'Todas las precauciones son importantes: documentar, probar exhaustivamente e informar a usuarios.' },
                            { title: 'Esquemas vs Programas', type: 'multiple-choice', question: '¬øCu√°l es la ventaja de esquemas sobre programas ABAP?', options: ['Son m√°s r√°pidos', 'Configurables sin programaci√≥n', 'Usan menos memoria', 'Son m√°s simples'], correct: 1, explanation: 'Los esquemas pueden ser configurados por consultores funcionales sin necesidad de programaci√≥n.' }
                        ],
                        'configuracion': [
                            // Lecciones originales (1-10)
                            { title: 'Creaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øEn qu√© herramienta se crean los esquemas SAP?', options: ['SE80', 'SPRO (IMG)', 'SE11', 'SM30'], correct: 1, explanation: 'Los esquemas se crean y configuran en SPRO (Implementation Guide).' },
                            { title: 'Naming Convention', type: 'fill-blank', question: 'Los esquemas personalizados deben comenzar con ______ o ______:', placeholder: 'Prefijos...', correct: 'z', explanation: 'Los esquemas personalizados deben comenzar con Z o Y para distinguirlos de los est√°ndar.' },
                            { title: 'Copia de Esquemas', type: 'multiple-choice', question: '¬øCu√°l es la mejor pr√°ctica al crear esquemas personalizados?', options: ['Crear desde cero', 'Copiar un esquema est√°ndar y modificarlo', 'Usar solo esquemas SAP', 'Evitar usar esquemas'], correct: 1, explanation: 'Es mejor copiar un esquema est√°ndar similar y modificarlo seg√∫n necesidades.' },
                            { title: 'Transporte de Esquemas', type: 'multiple-choice', question: '¬øC√≥mo se transportan los esquemas entre sistemas?', options: ['Manualmente', 'Mediante √≥rdenes de transporte', 'Por email', 'No se pueden transportar'], correct: 1, explanation: 'Los esquemas se transportan mediante √≥rdenes de transporte como otras configuraciones.' },
                            { title: 'Pruebas de Esquemas', type: 'fill-blank', question: 'Antes de activar un esquema en producci√≥n, se debe probar en ______:', placeholder: 'Tipo de sistema...', correct: 'desarrollo', explanation: 'Los esquemas deben probarse exhaustivamente en desarrollo antes de pasar a producci√≥n.' },
                            { title: 'Documentaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øQu√© informaci√≥n debe documentarse en un esquema?', options: ['Solo el nombre', 'Prop√≥sito, l√≥gica y casos de uso', 'Solo los pasos', 'Solo el autor'], correct: 1, explanation: 'Se debe documentar el prop√≥sito, l√≥gica de negocio, casos de uso y mantenimiento.' },
                            { title: 'Versionado de Esquemas', type: 'fill-blank', question: 'Es importante mantener ______ de los esquemas para control de cambios:', placeholder: 'Qu√© mantener...', correct: 'versiones', explanation: 'El versionado permite rastrear cambios y revertir a versiones anteriores si es necesario.' },
                            { title: 'Backup de Configuraci√≥n', type: 'multiple-choice', question: '¬øCu√°ndo es cr√≠tico hacer backup de la configuraci√≥n de esquemas?', options: ['Solo al final del a√±o', 'Antes de cualquier cambio importante', 'Solo cuando hay problemas', 'Nunca es necesario'], correct: 1, explanation: 'Siempre hacer backup antes de cambios importantes para poder recuperar la configuraci√≥n anterior.' },
                            { title: 'Esquemas por Sociedad', type: 'multiple-choice', question: '¬øSe pueden tener esquemas diferentes por sociedad en SAP?', options: ['No, todos usan el mismo esquema', 'S√≠, cada sociedad puede tener su configuraci√≥n espec√≠fica', 'Solo en ciertos m√≥dulos', 'Solo si son multinacionales'], correct: 1, explanation: 'Cada sociedad puede tener esquemas espec√≠ficos seg√∫n sus requerimientos de negocio y legales.' },
                            { title: 'Monitoreo de Esquemas', type: 'fill-blank', question: 'Para monitorear el funcionamiento de esquemas se pueden usar ______:', placeholder: 'Herramientas de seguimiento...', correct: 'logs', explanation: 'Los logs y herramientas de monitoreo permiten verificar que los esquemas funcionen correctamente.' },
                            
                            // Lecciones adicionales (11-30)
                            { title: 'Activaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øQu√© verifica SAP al activar un esquema?', options: ['Solo el nombre', 'Sintaxis y referencias v√°lidas', 'Solo permisos', 'Nada'], correct: 1, explanation: 'SAP verifica sintaxis correcta y que todas las referencias (tablas, campos) sean v√°lidas.' },
                            { title: 'Dependencias de Esquemas', type: 'fill-blank', question: 'Antes de transportar, verifica las ______ del esquema:', placeholder: 'Qu√© verificar...', correct: 'dependencias', explanation: 'Las dependencias incluyen tablas, otros esquemas, constantes y configuraciones relacionadas.' },
                            { title: 'Esquemas y Mandantes', type: 'multiple-choice', question: '¬øLos esquemas son dependientes del mandante?', options: ['Siempre', 'Depende de la configuraci√≥n', 'Nunca', 'Solo en producci√≥n'], correct: 1, explanation: 'Algunos elementos de esquemas son cross-client, otros son client-specific.' },
                            { title: 'Permisos para Esquemas', type: 'multiple-choice', question: '¬øQu√© autorizaci√≥n necesitas para modificar esquemas?', options: ['Solo acceso a SPRO', 'Autorizaci√≥n de customizing espec√≠fica', 'Ser administrador', 'No requiere permisos especiales'], correct: 1, explanation: 'Se requieren autorizaciones espec√≠ficas de customizing para modificar esquemas.' },
                            { title: 'Esquemas y Upgrades', type: 'fill-blank', question: 'Durante upgrades, los esquemas Z se ______ autom√°ticamente:', placeholder: 'Qu√© pasa...', correct: 'mantienen', explanation: 'Los esquemas cliente (Z/Y) se mantienen durante upgrades, pero deben probarse por compatibilidad.' },
                            { title: 'Comparaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øC√≥mo comparas esquemas entre sistemas?', options: ['Manualmente paso por paso', 'Herramientas de comparaci√≥n en SPRO', 'No es posible', 'Solo con programas Z'], correct: 1, explanation: 'SPRO incluye herramientas para comparar configuraciones entre sistemas.' },
                            { title: 'Esquemas Inactivos', type: 'multiple-choice', question: '¬øC√≥mo desactivas temporalmente un esquema?', options: ['Borr√°ndolo', 'Cambiando su estado a inactivo', 'Comentando todos los pasos', 'Quitando autorizaciones'], correct: 1, explanation: 'Los esquemas pueden marcarse como inactivos sin borrarlos para reactivaci√≥n futura.' },
                            { title: 'Variantes de Esquemas', type: 'fill-blank', question: 'Las ______ permiten diferentes comportamientos del mismo esquema:', placeholder: 'Qu√© permite...', correct: 'variantes', explanation: 'Las variantes permiten parametrizar esquemas para diferentes escenarios sin duplicar.' },
                            { title: 'Test de Esquemas', type: 'multiple-choice', question: '¬øQu√© herramienta permite simular la ejecuci√≥n de esquemas?', options: ['SE80', 'Test workbench en customizing', 'SM30', 'No existe'], correct: 1, explanation: 'El test workbench permite simular y debuggear esquemas sin afectar datos reales.' },
                            { title: 'Esquemas y Tablas Z', type: 'multiple-choice', question: '¬øPueden los esquemas referenciar tablas Z?', options: ['No, solo tablas est√°ndar', 'S√≠, con configuraci√≥n adicional', 'Solo en desarrollo', 'Depende del m√≥dulo'], correct: 1, explanation: 'Los esquemas pueden usar tablas Z pero requieren configuraci√≥n adicional y transporte conjunto.' },
                            { title: 'Performance de Configuraci√≥n', type: 'fill-blank', question: 'Evita usar muchos ______ anidados para mejor performance:', placeholder: 'Qu√© evitar...', correct: 'esquemas', explanation: 'Demasiados niveles de esquemas anidados impactan negativamente el rendimiento.' },
                            { title: 'Esquemas Globales vs Locales', type: 'multiple-choice', question: '¬øCu√°l es la diferencia entre esquemas globales y locales?', options: ['No hay diferencia', 'Globales: cross-client, Locales: por mandante', 'Globales: lentos, Locales: r√°pidos', 'Solo nomenclatura'], correct: 1, explanation: 'Esquemas globales aplican a todos los mandantes, locales son espec√≠ficos por mandante.' },
                            { title: 'Cambios en Producci√≥n', type: 'multiple-choice', question: '¬øSe pueden cambiar esquemas directamente en producci√≥n?', options: ['S√≠, siempre', 'No, solo v√≠a transporte', 'Solo emergencias con aprobaci√≥n', 'Depende del esquema'], correct: 1, explanation: 'Los cambios deben seguir el proceso de transporte desde desarrollo.' },
                            { title: 'Esquemas y Unicode', type: 'fill-blank', question: 'En sistemas Unicode, verifica la ______ de caracteres en esquemas:', placeholder: 'Qu√© verificar...', correct: 'codificacion', explanation: 'La codificaci√≥n de caracteres puede afectar esquemas con caracteres especiales.' },
                            { title: 'Regeneraci√≥n de Esquemas', type: 'multiple-choice', question: '¬øCu√°ndo es necesario regenerar esquemas?', options: ['Diariamente', 'Despu√©s de cambios estructurales', 'Nunca', 'Solo en upgrades'], correct: 1, explanation: 'Cambios en estructuras de datos pueden requerir regeneraci√≥n de esquemas dependientes.' },
                            { title: 'Esquemas y Trace', type: 'multiple-choice', question: '¬øQu√© trace es √∫til para analizar esquemas?', options: ['SQL Trace', 'RFC Trace', 'Configuration Trace', 'System Trace'], correct: 2, explanation: 'Configuration Trace muestra la secuencia de ejecuci√≥n de configuraciones incluyendo esquemas.' },
                            { title: 'Import/Export de Esquemas', type: 'fill-blank', question: 'Los esquemas se pueden exportar a ______ para documentaci√≥n:', placeholder: 'Formato...', correct: 'xml', explanation: 'La exportaci√≥n a XML permite documentaci√≥n externa y an√°lisis de esquemas.' },
                            { title: 'Esquemas Multi-idioma', type: 'multiple-choice', question: '¬øC√≥mo manejas textos en diferentes idiomas en esquemas?', options: ['Hardcoded en esquema', 'Tablas de textos con clave de idioma', 'Un esquema por idioma', 'No es posible'], correct: 1, explanation: 'Los textos se mantienen en tablas separadas con clave de idioma para internacionalizaci√≥n.' },
                            { title: 'Auditor√≠a de Cambios', type: 'multiple-choice', question: '¬øD√≥nde se registran los cambios a esquemas?', options: ['No se registran', 'Transport logs y change documents', 'Solo en papel', 'En tabla especial'], correct: 1, explanation: 'Los cambios quedan registrados en logs de transporte y documentos de cambio del sistema.' },
                            { title: 'Sincronizaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øC√≥mo mantienes esquemas sincronizados entre sistemas?', options: ['Copia manual', 'Landscape consistency checks', 'No es necesario', 'Autom√°ticamente'], correct: 1, explanation: 'Herramientas de landscape management verifican consistencia de configuraci√≥n entre sistemas.' }
                        ]
                    },
                    intermediate: {
                        'esquemas-avanzados': [
                            // Lecciones originales (1-15)
                            { title: 'Configuraci√≥n de Esquemas', type: 'multiple-choice', question: '¬øEn qu√© transacci√≥n se configuran los esquemas de contabilizaci√≥n autom√°tica?', options: ['OB41', 'OBX1', 'OBYC', 'OBA1'], correct: 0, explanation: 'OB41 es la transacci√≥n para configurar esquemas de contabilizaci√≥n autom√°tica en SAP.' },
                            { title: 'Asignaci√≥n de Esquemas', type: 'fill-blank', question: 'Los esquemas se asignan a ______ o ______ espec√≠ficos:', code: 'Sociedad: 1000\nEsquema: RMCL00\nClase de Movimiento: BSX', placeholder: 'Elementos de configuraci√≥n...', correct: 'sociedades', explanation: 'Los esquemas se asignan a sociedades espec√≠ficas o a tipos de operaciones/movimientos.' },
                            { title: 'Debugging de Esquemas', type: 'multiple-choice', question: '¬øQu√© herramienta se usa para hacer debug de esquemas SAP?', options: ['SE80', 'SE11', 'Depurador ABAP', 'ST05'], correct: 2, explanation: 'El depurador ABAP permite hacer debug de esquemas para ver el flujo de ejecuci√≥n paso a paso.' },
                            { title: 'Tablas de Configuraci√≥n', type: 'fill-blank', question: 'Los esquemas se almacenan en la tabla ______:', placeholder: 'Nombre de tabla...', correct: 'gb01', explanation: 'La tabla GB01 contiene la configuraci√≥n de los esquemas y sus pasos.' },
                            { title: 'Validaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øCu√°ndo se ejecutan los esquemas de validaci√≥n?', options: ['Solo al crear documentos', 'Solo al modificar documentos', 'Al crear y modificar documentos', 'Solo al consultar documentos'], correct: 2, explanation: 'Los esquemas de validaci√≥n se ejecutan tanto al crear como al modificar documentos contables.' },
                            { title: 'Esquemas de Sustituci√≥n vs Validaci√≥n', type: 'multiple-choice', question: '¬øCu√°l es la diferencia principal entre esquemas de sustituci√≥n y validaci√≥n?', options: ['No hay diferencia', 'Sustituci√≥n cambia valores, Validaci√≥n los verifica', 'Validaci√≥n es m√°s r√°pida', 'Sustituci√≥n solo funciona en FI'], correct: 1, explanation: 'Los esquemas de sustituci√≥n modifican/reemplazan valores autom√°ticamente, mientras que los de validaci√≥n solo verifican que cumplan reglas.' },
                            { title: 'Prerrequisitos de Esquemas', type: 'fill-blank', question: 'Los esquemas de validaci√≥n pueden tener ______ que deben cumplirse antes de ejecutarse:', placeholder: 'Condiciones previas...', correct: 'prerrequisitos', explanation: 'Los prerrequisitos son condiciones que determinan si el esquema debe ejecutarse o no.' },
                            { title: 'Mensajes en Esquemas', type: 'multiple-choice', question: '¬øQu√© tipos de mensajes pueden generar los esquemas de validaci√≥n?', options: ['Solo errores (E)', 'Solo warnings (W)', 'Errores (E), Warnings (W) e Informativos (I)', 'Solo informativos (I)'], correct: 2, explanation: 'Los esquemas pueden generar mensajes de error (E), warning (W) e informativos (I) seg√∫n la situaci√≥n.' },
                            { title: 'Esquemas por Aplicaci√≥n', type: 'multiple-choice', question: '¬øEn qu√© m√≥dulos de SAP se pueden usar esquemas?', options: ['Solo en FI (Finanzas)', 'Solo en HR (Recursos Humanos)', 'En m√∫ltiples m√≥dulos: FI, CO, HR, MM, etc.', 'Solo en m√≥dulos financieros'], correct: 2, explanation: 'Los esquemas se usan en m√∫ltiples m√≥dulos SAP: FI, CO, HR, MM, SD y otros seg√∫n necesidades.' },
                            { title: 'Par√°metros en Esquemas', type: 'fill-blank', question: 'Los esquemas pueden recibir ______ para modificar su comportamiento din√°micamente:', placeholder: 'Valores de entrada...', correct: 'parametros', explanation: 'Los par√°metros permiten que los esquemas se adapten seg√∫n valores espec√≠ficos pasados en tiempo de ejecuci√≥n.' },
                            { title: 'Esquemas Anidados', type: 'multiple-choice', question: '¬øQu√© permite el anidamiento de esquemas?', options: ['Mayor velocidad de procesamiento', 'Reutilizaci√≥n y modularizaci√≥n de l√≥gica compleja', 'Menor uso de memoria', 'Simplificaci√≥n autom√°tica'], correct: 1, explanation: 'El anidamiento permite reutilizar esquemas peque√±os dentro de esquemas m√°s complejos, mejorando la modularizaci√≥n.' },
                            { title: 'Testing de Esquemas', type: 'multiple-choice', question: '¬øCu√°l es la mejor pr√°ctica para probar esquemas antes de producci√≥n?', options: ['Probar solo con datos reales', 'Usar datos de prueba representativos en ambiente de desarrollo', 'Probar directamente en producci√≥n', 'No es necesario probar'], correct: 1, explanation: 'Usar datos de prueba representativos en desarrollo permite identificar problemas sin afectar datos reales.' },
                            { title: 'Rollback en Esquemas', type: 'fill-blank', question: 'Si un esquema falla, SAP puede hacer ______ de toda la transacci√≥n:', placeholder: 'Acci√≥n de recuperaci√≥n...', correct: 'rollback', explanation: 'El rollback deshace todos los cambios de la transacci√≥n si un esquema cr√≠tico falla, manteniendo la integridad.' },
                            { title: 'Migraci√≥n de Esquemas', type: 'multiple-choice', question: '¬øQu√© considerar al migrar esquemas entre versiones de SAP?', options: ['Solo la sintaxis', 'Compatibilidad, nuevas funciones y cambios en la l√≥gica de negocio', 'Solo el rendimiento', 'No hay consideraciones especiales'], correct: 1, explanation: 'La migraci√≥n requiere verificar compatibilidad, aprovechar nuevas funciones y adaptar cambios en l√≥gica de negocio.' },
                            
                            // Lecciones adicionales (15-35)
                            { title: 'Boolean Logic en Esquemas', type: 'multiple-choice', question: '¬øQu√© operadores booleanos puedes usar en condiciones de esquemas?', options: ['Solo AND', 'Solo OR', 'AND, OR, NOT', 'No soporta booleanos'], correct: 2, explanation: 'Los esquemas soportan l√≥gica booleana completa: AND, OR y NOT en condiciones.' },
                            { title: 'Sets en Esquemas', type: 'fill-blank', question: 'Los ______ agrupan valores para usar en condiciones de esquemas:', placeholder: 'Estructura de datos...', correct: 'sets', explanation: 'Los sets permiten agrupar valores relacionados para simplificar condiciones complejas.' },
                            { title: 'Transacci√≥n GGB0', type: 'multiple-choice', question: '¬øPara qu√© se usa la transacci√≥n GGB0?', options: ['Crear tablas', 'Mantener sets para validaciones', 'Ejecutar esquemas', 'Ver logs'], correct: 1, explanation: 'GGB0 se usa para crear y mantener sets usados en validaciones y sustituciones.' },
                            { title: 'User Exits en Esquemas', type: 'multiple-choice', question: '¬øCu√°ndo usar√≠as un user exit en un esquema?', options: ['Siempre', 'Para l√≥gica compleja no soportada nativamente', 'Nunca', 'Solo en desarrollo'], correct: 1, explanation: 'Los user exits permiten a√±adir l√≥gica ABAP personalizada cuando las funciones est√°ndar no son suficientes.' },
                            { title: 'Formularios en Esquemas', type: 'fill-blank', question: 'Los user exits en esquemas llaman a ______ ABAP:', placeholder: 'Tipo de c√≥digo...', correct: 'formularios', explanation: 'Los formularios (FORM routines) contienen el c√≥digo ABAP personalizado para user exits.' },
                            { title: 'Trace de Validaci√≥n', type: 'multiple-choice', question: '¬øC√≥mo activas el trace para esquemas de validaci√≥n?', options: ['Autom√°ticamente', 'Con par√°metro de usuario', 'No es posible', 'Solo en DEV'], correct: 1, explanation: 'Par√°metros de usuario espec√≠ficos activan el trace detallado de validaciones.' },
                            { title: 'Campos Disponibles', type: 'multiple-choice', question: '¬øQu√© campos puedes usar en condiciones de esquemas?', options: ['Solo campos de pantalla', 'Solo campos de tablas', 'Campos de estructuras de comunicaci√≥n', 'Todos los campos SAP'], correct: 2, explanation: 'Los esquemas acceden a campos en estructuras de comunicaci√≥n espec√≠ficas del contexto.' },
                            { title: 'Prioridad de Esquemas', type: 'fill-blank', question: 'Cuando hay m√∫ltiples esquemas, se ejecutan seg√∫n su ______:', placeholder: 'Criterio de orden...', correct: 'prioridad', explanation: 'La prioridad num√©rica determina el orden de ejecuci√≥n de m√∫ltiples esquemas.' },
                            { title: 'Esquemas Condicionales', type: 'multiple-choice', question: '¬øPueden los esquemas completos tener condiciones de activaci√≥n?', options: ['No, solo los pasos', 'S√≠, con prerrequisitos', 'Solo en ciertos m√≥dulos', 'Solo manualmente'], correct: 1, explanation: 'Los prerrequisitos permiten activar/desactivar esquemas completos seg√∫n condiciones.' },
                            { title: 'Documentaci√≥n de Pasos', type: 'multiple-choice', question: '¬øD√≥nde documentas la l√≥gica de pasos individuales?', options: ['En c√≥digo ABAP', 'En el texto descriptivo del paso', 'En documento Word', 'No se documenta'], correct: 1, explanation: 'Cada paso tiene un campo de texto para documentar su prop√≥sito y l√≥gica.' },
                            { title: 'Esquemas y Workflow', type: 'fill-blank', question: 'Los esquemas pueden disparar ______ para procesos de aprobaci√≥n:', placeholder: 'Sistema de procesos...', correct: 'workflows', explanation: 'La integraci√≥n con workflow permite que esquemas inicien procesos de aprobaci√≥n autom√°ticos.' },
                            { title: 'Variables en Esquemas', type: 'multiple-choice', question: '¬øC√≥mo pasas valores entre pasos de un esquema?', options: ['Variables globales', 'Campos de memoria', 'No es posible', 'Tablas temporales'], correct: 1, explanation: 'Los campos de memoria y estructuras de comunicaci√≥n permiten compartir valores entre pasos.' },
                            { title: 'Esquemas Cross-Sistema', type: 'multiple-choice', question: '¬øPueden los esquemas interactuar con sistemas externos?', options: ['No, solo SAP', 'S√≠, v√≠a RFC o servicios web', 'Solo lectura', 'Solo batch'], correct: 1, explanation: 'User exits pueden llamar RFCs o servicios web para integraci√≥n con sistemas externos.' },
                            { title: 'Performance de Validaci√≥n', type: 'fill-blank', question: 'Para mejorar performance, ejecuta validaciones ______ primero:', placeholder: 'Tipo de validaciones...', correct: 'simples', explanation: 'Las validaciones simples y r√°pidas deben ejecutarse antes que las complejas para fallar r√°pido.' },
                            { title: 'Simulaci√≥n de Esquemas', type: 'multiple-choice', question: '¬øQu√© modo permite probar esquemas sin grabar cambios?', options: ['Modo test', 'Modo simulaci√≥n', 'No existe', 'Solo en QA'], correct: 1, explanation: 'El modo simulaci√≥n ejecuta esquemas mostrando resultados sin commit a base de datos.' },
                            { title: 'Esquemas y Batch Input', type: 'multiple-choice', question: '¬øLos esquemas se ejecutan en procesos batch input?', options: ['Nunca', 'Siempre', 'Depende de la configuraci√≥n', 'Solo validaciones'], correct: 2, explanation: 'La configuraci√≥n determina si los esquemas aplican a procesos batch input o solo online.' },
                            { title: 'Mensajes Multiidioma', type: 'fill-blank', question: 'Los mensajes de esquemas se mantienen en clase de mensajes con soporte ______:', placeholder: 'Caracter√≠stica...', correct: 'multiidioma', explanation: 'Las clases de mensajes permiten mantener textos en m√∫ltiples idiomas.' },
                            { title: 'Campos Virtuales', type: 'multiple-choice', question: '¬øPuedes usar campos calculados en condiciones?', options: ['No, solo campos reales', 'S√≠, mediante f√≥rmulas', 'Solo en sustituciones', 'Solo sumas'], correct: 1, explanation: 'Las f√≥rmulas permiten crear campos virtuales calculados para usar en condiciones.' },
                            { title: 'Debugging Condicional', type: 'multiple-choice', question: '¬øC√≥mo activas debug solo para un esquema espec√≠fico?', options: ['No es posible', 'Breakpoint en user exit', 'Flag de debug en esquema', 'Debug todo o nada'], correct: 1, explanation: 'Breakpoints en user exits permiten debugging selectivo de esquemas espec√≠ficos.' },
                            { title: 'Esquemas y Authorization', type: 'fill-blank', question: 'Los esquemas pueden verificar ______ antes de ejecutarse:', placeholder: 'Qu√© verifican...', correct: 'autorizaciones', explanation: 'Las verificaciones de autorizaci√≥n en esquemas a√±aden una capa extra de seguridad.' }
                        ]
                    },
                    advanced: {
                        'optimizacion': [
                            // Lecciones originales (1-3)
                            { title: 'Esquemas Complejos', type: 'multiple-choice', question: '¬øCu√°l es la mejor pr√°ctica para esquemas con muchos pasos?', options: ['Usar un solo esquema grande', 'Dividir en m√∫ltiples esquemas m√°s peque√±os', 'Evitar usar esquemas', 'Usar solo validaciones manuales'], correct: 1, explanation: 'Es mejor dividir esquemas complejos en m√∫ltiples esquemas m√°s peque√±os y manejables.' },
                            { title: 'Optimizaci√≥n de Performance', type: 'fill-blank', question: 'Para mejorar el rendimiento, las condiciones m√°s ______ deben ir primero:', placeholder: 'Tipo de condici√≥n...', correct: 'restrictivas', explanation: 'Las condiciones m√°s restrictivas deben ir primero para filtrar r√°pidamente y evitar procesamiento innecesario.' },
                            { title: 'Gesti√≥n de Errores', type: 'multiple-choice', question: '¬øQu√© sucede cuando un esquema encuentra un error durante la ejecuci√≥n?', options: ['Contin√∫a con el siguiente paso', 'Se detiene y revierte toda la transacci√≥n', 'Solo revierte el paso actual', 'Genera un warning y contin√∫a'], correct: 1, explanation: 'Los errores en esquemas detienen la ejecuci√≥n y revierten toda la transacci√≥n para mantener la integridad.' },
                            
                            // Lecciones adicionales (4-23)
                            { title: 'Cache de Esquemas', type: 'fill-blank', question: 'SAP mantiene esquemas frecuentes en ______ para mejorar performance:', placeholder: 'Almacenamiento r√°pido...', correct: 'cache', explanation: 'El cache de esquemas evita recargar configuraciones frecuentemente usadas.' },
                            { title: '√çndices para Validaci√≥n', type: 'multiple-choice', question: '¬øQu√© √≠ndices mejoran performance de validaciones?', options: ['√çndices en campos validados frecuentemente', '√çndices primarios solo', 'No afectan', '√çndices de texto'], correct: 0, explanation: '√çndices en campos usados frecuentemente en condiciones mejoran significativamente el rendimiento.' },
                            { title: 'Paralelizaci√≥n', type: 'multiple-choice', question: '¬øSe pueden ejecutar esquemas en paralelo?', options: ['Siempre', 'No, son secuenciales por dise√±o', 'Solo en sistemas multi-core', 'Depende del m√≥dulo'], correct: 1, explanation: 'Los esquemas son secuenciales por dise√±o para mantener consistencia de datos.' },
                            { title: 'Buffer de Resultados', type: 'fill-blank', question: 'Resultados de validaciones costosas pueden guardarse en ______:', placeholder: 'Almacenamiento temporal...', correct: 'buffer', explanation: 'Buffering de resultados evita recalcular validaciones costosas repetidamente.' },
                            { title: 'SQL en User Exits', type: 'multiple-choice', question: '¬øCu√°l es el mayor riesgo de performance en user exits?', options: ['Loops infinitos', 'SELECT dentro de loops', 'Variables globales', 'C√°lculos complejos'], correct: 1, explanation: 'SELECT statements dentro de loops son el problema de performance m√°s com√∫n en user exits.' },
                            { title: 'Complejidad Ciclom√°tica', type: 'multiple-choice', question: '¬øC√≥mo reduces la complejidad en esquemas?', options: ['M√°s condiciones', 'Menos pasos', 'Modularizaci√≥n y jerarqu√≠a', 'Un solo esquema grande'], correct: 2, explanation: 'Dividir en sub-esquemas modulares reduce complejidad y mejora mantenibilidad.' },
                            { title: 'Monitoreo ST12', type: 'fill-blank', question: 'La transacci√≥n ______ combina ABAP y SQL trace para an√°lisis completo:', placeholder: 'Herramienta SAP...', correct: 'st12', explanation: 'ST12 proporciona an√°lisis combinado de performance ABAP y base de datos.' },
                            { title: 'Hot Spots', type: 'multiple-choice', question: '¬øC√≥mo identificas hot spots en esquemas?', options: ['Intuici√≥n', 'Runtime analysis y traces', 'Contando pasos', 'No es posible'], correct: 1, explanation: 'Runtime analysis identifica qu√© pasos consumen m√°s tiempo de procesamiento.' },
                            { title: 'Mass Processing', type: 'multiple-choice', question: '¬øQu√© consideraci√≥n especial requieren esquemas en procesos masivos?', options: ['Ninguna', 'Optimizaci√≥n extrema y manejo de memoria', 'Solo m√°s servidores', 'Desactivarlos'], correct: 1, explanation: 'Procesos masivos amplifican problemas de performance, requiriendo optimizaci√≥n cuidadosa.' },
                            { title: 'Early Exit', type: 'fill-blank', question: 'Implementa ______ en condiciones para evitar procesamiento innecesario:', placeholder: 'Estrategia...', correct: 'salida', explanation: 'Salida temprana (early exit) cuando se determina que no hay m√°s procesamiento necesario.' },
                            { title: 'Cach√© de Configuraci√≥n', type: 'multiple-choice', question: '¬øCu√°ndo se invalida el cach√© de esquemas?', options: ['Cada hora', 'Al cambiar configuraci√≥n', 'Diariamente', 'Nunca'], correct: 1, explanation: 'El cach√© se invalida autom√°ticamente cuando se modifica la configuraci√≥n relacionada.' },
                            { title: 'Database Hints', type: 'multiple-choice', question: '¬øDeber√≠as usar database hints en user exits de esquemas?', options: ['Siempre para performance', 'Evitar, son espec√≠ficos de DB', 'Solo en Oracle', 'Solo en HANA'], correct: 1, explanation: 'Los hints son espec√≠ficos del motor de base de datos y dificultan portabilidad.' },
                            { title: 'An√°lisis de Impacto', type: 'fill-blank', question: 'Antes de optimizar, realiza an√°lisis de ______ para priorizar esfuerzos:', placeholder: 'Tipo de an√°lisis...', correct: 'impacto', explanation: 'El an√°lisis de impacto identifica qu√© optimizaciones dar√°n mayor beneficio.' },
                            { title: 'Esquemas y HANA', type: 'multiple-choice', question: '¬øQu√© optimizaci√≥n espec√≠fica aplica en SAP HANA?', options: ['Ninguna', 'Pushdown de l√≥gica a la base de datos', 'M√°s memoria RAM', 'Esquemas m√°s grandes'], correct: 1, explanation: 'En HANA, pushdown de c√°lculos a la base de datos mejora significativamente performance.' },
                            { title: 'Profiling Tools', type: 'multiple-choice', question: '¬øQu√© herramienta proporciona profiling detallado?', options: ['SE80', 'SAT (formerly SE30)', 'SM37', 'SU01'], correct: 1, explanation: 'SAT proporciona profiling detallado de ejecuci√≥n incluyendo esquemas.' },
                            { title: 'Memory Leaks', type: 'fill-blank', question: 'En user exits largos, libera ______ expl√≠citamente:', placeholder: 'Qu√© liberar...', correct: 'memoria', explanation: 'Liberar expl√≠citamente memoria en user exits previene memory leaks en procesos largos.' },
                            { title: 'Bulk Operations', type: 'multiple-choice', question: '¬øC√≥mo optimizas validaciones para operaciones bulk?', options: ['Una por una', 'Validaci√≥n agregada cuando sea posible', 'Saltar validaciones', 'Procesar en background'], correct: 1, explanation: 'Agregando validaciones para m√∫ltiples registros reduce overhead significativamente.' },
                            { title: 'KPIs de Performance', type: 'multiple-choice', question: '¬øQu√© KPI es m√°s importante para esquemas?', options: ['L√≠neas de c√≥digo', 'Tiempo de respuesta', 'N√∫mero de pasos', 'Complejidad'], correct: 1, explanation: 'El tiempo de respuesta es el KPI m√°s importante desde perspectiva de usuario.' },
                            { title: 'Troubleshooting', type: 'fill-blank', question: 'Para troubleshooting sistem√°tico usa el m√©todo de ______:', placeholder: 'T√©cnica de an√°lisis...', correct: 'eliminacion', explanation: 'Eliminaci√≥n sistem√°tica aislando componentes identifica problemas espec√≠ficos.' },
                            { title: 'Best Practices', type: 'multiple-choice', question: '¬øCu√°l NO es una best practice para performance?', options: ['Condiciones simples primero', 'Modularizaci√≥n', 'SELECT * siempre', 'Documentaci√≥n clara'], correct: 2, explanation: 'SELECT * transfiere datos innecesarios y degrada performance.' }
                        ]
                    }
                };

                // PCC - COMPLETAR TODAS LAS LECCIONES
                lessons.pcc = {
                    beginner: {
                        'conceptos-pcc': [
                            // Lecciones originales (1-10)
                            { title: '¬øQu√© es PCC?', type: 'multiple-choice', question: '¬øQu√© significa PCC en SAP HCM?', options: ['Personal Control Center', 'Payroll Control Center', 'Process Control Center', 'Personnel Configuration Center'], correct: 1, explanation: 'PCC significa Payroll Control Center, el centro de control de n√≥mina en SAP HCM.' },
                            { title: 'Prop√≥sito del PCC', type: 'multiple-choice', question: '¬øCu√°l es el prop√≥sito principal del PCC?', options: ['Calcular salarios manualmente', 'Supervisar y controlar los procesos de n√≥mina de forma centralizada', 'Crear reportes de RRHH', 'Gestionar vacaciones'], correct: 1, explanation: 'El PCC permite supervisar y controlar todos los procesos de n√≥mina desde un punto centralizado.' },
                            { title: 'Componentes del PCC', type: 'fill-blank', question: 'El PCC incluye herramientas para monitoreo, control, ______ y an√°lisis:', placeholder: 'Funci√≥n principal...', correct: 'simulacion', explanation: 'El PCC incluye herramientas de monitoreo, control, simulaci√≥n y an√°lisis de procesos de n√≥mina.' },
                            { title: 'Usuarios del PCC', type: 'multiple-choice', question: '¬øQui√©nes son los usuarios t√≠picos del PCC?', options: ['Solo empleados', 'Solo gerentes de RRHH', 'Administradores de n√≥mina, supervisores y analistas de RRHH', 'Solo el departamento de TI'], correct: 2, explanation: 'El PCC es usado por administradores de n√≥mina, supervisores y analistas de RRHH para gestionar procesos.' },
                            { title: 'Integraci√≥n con SAP HCM', type: 'multiple-choice', question: '¬øC√≥mo se integra PCC con otros m√≥dulos de SAP HCM?', options: ['Funciona de forma independiente', 'Se integra completamente con PA, OM, PT y otros m√≥dulos', 'Solo se conecta con PA', 'Requiere interfaces especiales'], correct: 1, explanation: 'PCC se integra completamente con Personnel Administration (PA), Organizational Management (OM), Personnel Time (PT) y otros m√≥dulos HCM.' },
                            { title: 'Ventajas del PCC', type: 'fill-blank', question: 'Una ventaja clave del PCC es la ______ en tiempo real de procesos de n√≥mina:', placeholder: 'Capacidad principal...', correct: 'visibilidad', explanation: 'PCC proporciona visibilidad en tiempo real del estado y progreso de todos los procesos de n√≥mina.' },
                            { title: 'Procesos que Gestiona PCC', type: 'multiple-choice', question: '¬øQu√© procesos puede gestionar el PCC?', options: ['Solo c√°lculo de n√≥mina regular', 'Solo n√≥minas extraordinarias', 'N√≥minas regulares, extraordinarias, ajustes y simulaciones', 'Solo reportes de n√≥mina'], correct: 2, explanation: 'PCC puede gestionar n√≥minas regulares, extraordinarias, ajustes, simulaciones y otros procesos relacionados.' },
                            { title: 'Dashboard del PCC', type: 'multiple-choice', question: '¬øQu√© informaci√≥n muestra t√≠picamente el dashboard del PCC?', options: ['Solo errores de n√≥mina', 'Estado de procesos, estad√≠sticas, alertas y KPIs de n√≥mina', 'Solo datos de empleados', 'Solo informaci√≥n financiera'], correct: 1, explanation: 'El dashboard del PCC muestra estado de procesos, estad√≠sticas, alertas y KPIs relacionados con la n√≥mina.' },
                            { title: 'Automatizaci√≥n en PCC', type: 'fill-blank', question: 'PCC permite la ______ de muchos procesos de n√≥mina para reducir intervenci√≥n manual:', placeholder: 'Proceso de mejora...', correct: 'automatizacion', explanation: 'La automatizaci√≥n en PCC reduce la necesidad de intervenci√≥n manual en procesos rutinarios de n√≥mina.' },
                            { title: 'Seguridad en PCC', type: 'multiple-choice', question: '¬øC√≥mo maneja PCC la seguridad y autorizaciones?', options: ['No tiene controles de seguridad', 'Usa el sistema de autorizaciones est√°ndar de SAP', 'Requiere un sistema de seguridad separado', 'Solo permite acceso a administradores'], correct: 1, explanation: 'PCC utiliza el sistema de autorizaciones est√°ndar de SAP para controlar el acceso a funciones y datos.' },
                            
                            // Lecciones adicionales (11-30)
                            { title: 'Historia del PCC', type: 'multiple-choice', question: '¬øPor qu√© SAP desarroll√≥ el PCC?', options: ['Para reemplazar HCM', 'Para centralizar y simplificar el control de n√≥mina', 'Por requisitos legales', 'Para competir con otros sistemas'], correct: 1, explanation: 'PCC se desarroll√≥ para centralizar y simplificar procesos de n√≥mina que antes estaban dispersos.' },
                            { title: 'PCC vs Herramientas Tradicionales', type: 'fill-blank', question: 'A diferencia de reportes tradicionales, PCC ofrece control ______:', placeholder: 'Tipo de control...', correct: 'interactivo', explanation: 'PCC ofrece control interactivo y en tiempo real, no solo reportes est√°ticos.' },
                            { title: 'Arquitectura del PCC', type: 'multiple-choice', question: '¬øEn qu√© tecnolog√≠a se basa el PCC?', options: ['ABAP cl√°sico', 'Web Dynpro ABAP', 'Java', 'SAPUI5'], correct: 1, explanation: 'PCC utiliza Web Dynpro ABAP para proporcionar una interfaz web moderna.' },
                            { title: 'Versiones del PCC', type: 'multiple-choice', question: '¬øDesde qu√© versi√≥n de SAP est√° disponible PCC?', options: ['SAP R/3 4.6', 'SAP ECC 5.0', 'SAP ECC 6.0 EHP5', 'SAP S/4HANA solamente'], correct: 2, explanation: 'PCC est√° disponible desde SAP ECC 6.0 Enhancement Package 5 en adelante.' },
                            { title: 'PCC Framework', type: 'fill-blank', question: 'PCC usa el ______ framework para procesamiento paralelo:', placeholder: 'Nombre del framework...', correct: 'parallel', explanation: 'El Parallel Processing Framework permite que PCC ejecute tareas en paralelo para mejor performance.' },
                            { title: 'Tipos de Objetos PCC', type: 'multiple-choice', question: '¬øCu√°les son los objetos principales en PCC?', options: ['Solo procesos', 'Procesos, pol√≠ticas y plantillas', 'Solo empleados', 'Solo errores'], correct: 1, explanation: 'PCC gestiona procesos (ejecuciones), pol√≠ticas (reglas) y plantillas (configuraciones reusables).' },
                            { title: 'Process Templates', type: 'multiple-choice', question: '¬øPara qu√© sirven las Process Templates en PCC?', options: ['Documentaci√≥n', 'Definir secuencias de pasos reusables', 'Crear empleados', 'Generar reportes'], correct: 1, explanation: 'Las Process Templates definen secuencias de pasos que se pueden reusar en diferentes procesos.' },
                            { title: 'PCC Policies', type: 'fill-blank', question: 'Las pol√≠ticas en PCC definen ______ de negocio para procesos:', placeholder: 'Qu√© definen...', correct: 'reglas', explanation: 'Las pol√≠ticas definen reglas de negocio que determinan c√≥mo se ejecutan los procesos.' },
                            { title: 'Estados de Proceso', type: 'multiple-choice', question: '¬øCu√°les son los estados t√≠picos de un proceso en PCC?', options: ['Solo activo/inactivo', 'Planificado, En ejecuci√≥n, Completado, Error', 'Solo completado/error', 'No tienen estados'], correct: 1, explanation: 'Los procesos pasan por estados: Planificado, En ejecuci√≥n, Completado, Error, etc.' },
                            { title: 'Log de Procesos', type: 'multiple-choice', question: '¬øQu√© informaci√≥n guarda el log de procesos PCC?', options: ['Solo errores', 'Timestamp, usuario, acciones y resultados detallados', 'Solo fecha de ejecuci√≥n', 'No hay logs'], correct: 1, explanation: 'Los logs son comprehensivos: incluyen timing, usuario, cada acci√≥n y resultados detallados.' },
                            { title: 'PCC Workbench', type: 'fill-blank', question: 'La transacci√≥n principal para acceder a PCC es ______:', placeholder: 'C√≥digo de transacci√≥n...', correct: 'pcc', explanation: 'La transacci√≥n PCC lleva al workbench principal del Payroll Control Center.' },
                            { title: 'Roles en PCC', type: 'multiple-choice', question: '¬øCu√°les son los roles t√≠picos definidos en PCC?', options: ['Solo administrador', 'Administrator, Controller, Viewer', 'Solo viewer', 'No hay roles'], correct: 1, explanation: 'PCC define roles como Administrator (configuraci√≥n), Controller (ejecuci√≥n) y Viewer (solo lectura).' },
                            { title: 'PCC Mobile', type: 'multiple-choice', question: '¬øExiste acceso m√≥vil para PCC?', options: ['No', 'S√≠, a trav√©s de Fiori apps', 'Solo en tablets', 'Solo lectura'], correct: 1, explanation: 'SAP Fiori proporciona apps m√≥viles para acceder a funciones de PCC.' },
                            { title: 'Notificaciones PCC', type: 'fill-blank', question: 'PCC puede enviar notificaciones por ______ cuando ocurren eventos:', placeholder: 'Medio de comunicaci√≥n...', correct: 'email', explanation: 'PCC se integra con SAP Business Workplace para enviar notificaciones por email.' },
                            { title: 'PCC y Compliance', type: 'multiple-choice', question: '¬øC√≥mo ayuda PCC con compliance?', options: ['No est√° relacionado', 'Documenta y audita todos los procesos autom√°ticamente', 'Solo genera reportes', 'Requiere documentaci√≥n manual'], correct: 1, explanation: 'PCC proporciona trazabilidad completa y documentaci√≥n autom√°tica para compliance.' },
                            { title: 'Mejoras Continuas', type: 'multiple-choice', question: '¬øC√≥mo identifica PCC √°reas de mejora?', options: ['No las identifica', 'An√°lisis de patrones de error y tiempos de proceso', 'Solo manualmente', 'Consultor√≠a externa'], correct: 1, explanation: 'PCC analiza patrones de errores y tiempos para sugerir mejoras en procesos.' },
                            { title: 'PCC Global', type: 'fill-blank', question: 'PCC soporta operaciones ______ con m√∫ltiples pa√≠ses:', placeholder: 'Tipo de operaciones...', correct: 'globales', explanation: 'PCC est√° dise√±ado para empresas globales con n√≥minas en m√∫ltiples pa√≠ses.' },
                            { title: 'Disaster Recovery', type: 'multiple-choice', question: '¬øQu√© capacidades de recuperaci√≥n ofrece PCC?', options: ['Ninguna', 'Backup y restore de configuraciones y procesos', 'Solo backup manual', 'Depende del DBA'], correct: 1, explanation: 'PCC incluye funciones de backup/restore para configuraciones y resultados de procesos.' },
                            { title: 'PCC Analytics', type: 'multiple-choice', question: '¬øQu√© tipo de an√°lisis proporciona PCC?', options: ['Solo conteo de errores', 'An√°lisis predictivo, tendencias y comparaciones', 'No tiene an√°lisis', 'Solo reportes b√°sicos'], correct: 1, explanation: 'PCC ofrece an√°lisis avanzado incluyendo predicciones y comparaciones hist√≥ricas.' },
                            { title: 'Futuro del PCC', type: 'multiple-choice', question: '¬øHacia d√≥nde evoluciona PCC?', options: ['Se est√° descontinuando', 'Integraci√≥n con S/4HANA e inteligencia artificial', 'Sin cambios planificados', 'Reemplazo por sistema externo'], correct: 1, explanation: 'PCC evoluciona hacia mayor integraci√≥n con S/4HANA y capacidades de IA/ML.' }
                        ],
                        'configuracion-pcc': [
                            // Lecciones originales (1-8)
                            { title: 'Configuraci√≥n Inicial', type: 'multiple-choice', question: '¬øQu√© es lo primero que se debe configurar en PCC?', options: ['Los empleados', 'Los esquemas de n√≥mina y par√°metros del sistema', 'Los reportes', 'Las autorizaciones'], correct: 1, explanation: 'La configuraci√≥n inicial requiere definir esquemas de n√≥mina y par√°metros b√°sicos del sistema.' },
                            { title: 'Variantes de N√≥mina', type: 'fill-blank', question: 'En PCC se configuran ______ de n√≥mina para diferentes tipos de empleados:', placeholder: 'Configuraciones espec√≠ficas...', correct: 'variantes', explanation: 'Las variantes de n√≥mina permiten configuraciones espec√≠ficas para diferentes grupos de empleados.' },
                            { title: 'Per√≠odos de N√≥mina', type: 'multiple-choice', question: '¬øC√≥mo se definen los per√≠odos de n√≥mina en PCC?', options: ['Solo mensualmente', 'Se configuran seg√∫n las necesidades: semanal, quincenal, mensual, etc.', 'Solo anualmente', 'Autom√°ticamente por el sistema'], correct: 1, explanation: 'Los per√≠odos de n√≥mina se pueden configurar seg√∫n necesidades: semanal, quincenal, mensual, etc.' },
                            { title: 'Clusters de N√≥mina', type: 'multiple-choice', question: '¬øQu√© son los clusters en la configuraci√≥n de PCC?', options: ['Grupos de empleados', 'Estructuras de datos que almacenan resultados de n√≥mina', 'Tipos de reportes', 'Configuraciones de seguridad'], correct: 1, explanation: 'Los clusters son estructuras de datos especializadas que almacenan los resultados de los c√°lculos de n√≥mina.' },
                            { title: 'Configuraci√≥n de Alertas', type: 'fill-blank', question: 'PCC permite configurar ______ autom√°ticas para notificar sobre errores o situaciones especiales:', placeholder: 'Sistema de notificaciones...', correct: 'alertas', explanation: 'Las alertas autom√°ticas notifican sobre errores, excepciones o situaciones que requieren atenci√≥n.' },
                            { title: 'Configuraci√≥n de Workflows', type: 'multiple-choice', question: '¬øPara qu√© se usan los workflows en PCC?', options: ['Solo para aprobaciones', 'Para automatizar procesos y rutear tareas seg√∫n reglas de negocio', 'Solo para reportes', 'Para backup de datos'], correct: 1, explanation: 'Los workflows automatizan procesos y rutean tareas seg√∫n reglas de negocio predefinidas.' },
                            { title: 'Par√°metros de Sistema', type: 'multiple-choice', question: '¬øQu√© tipo de par√°metros se configuran a nivel de sistema en PCC?', options: ['Solo fechas', 'Configuraciones globales como monedas, calendarios, y reglas generales', 'Solo nombres de empleados', 'Solo c√≥digos de n√≥mina'], correct: 1, explanation: 'Los par√°metros de sistema incluyen configuraciones globales como monedas, calendarios y reglas generales.' },
                            { title: 'Configuraci√≥n de Interfaces', type: 'fill-blank', question: 'PCC requiere configurar ______ con sistemas externos como bancos o entidades gubernamentales:', placeholder: 'Conexiones externas...', correct: 'interfaces', explanation: 'Las interfaces permiten intercambio de datos con sistemas externos como bancos y entidades gubernamentales.' },
                            
                            // Lecciones adicionales (9-28)
                            { title: 'Process Repository', type: 'multiple-choice', question: '¬øQu√© es el Process Repository en PCC?', options: ['Base de datos de empleados', 'Biblioteca central de procesos y templates reutilizables', 'Archivo de errores', 'Backup del sistema'], correct: 1, explanation: 'El Process Repository almacena procesos y templates que pueden reutilizarse en toda la organizaci√≥n.' },
                            { title: 'Configuraci√≥n de Pa√≠ses', type: 'fill-blank', question: 'PCC requiere configuraci√≥n espec√≠fica por ______ debido a regulaciones locales:', placeholder: 'Divisi√≥n geogr√°fica...', correct: 'pais', explanation: 'Cada pa√≠s tiene regulaciones √∫nicas que requieren configuraci√≥n espec√≠fica en PCC.' },
                            { title: 'Parallel Processing Config', type: 'multiple-choice', question: '¬øQu√© determina el n√∫mero de procesos paralelos en PCC?', options: ['Siempre 10', 'Configuraci√≥n de servidor y carga del sistema', 'Usuario decide cada vez', 'No hay paralelismo'], correct: 1, explanation: 'La configuraci√≥n de parallel processing depende de recursos del servidor y carga esperada.' },
                            { title: 'Configuraci√≥n de Logs', type: 'multiple-choice', question: '¬øQu√© niveles de log se pueden configurar en PCC?', options: ['Solo error', 'Error, Warning, Info, Debug', 'No configurable', 'Solo info'], correct: 1, explanation: 'PCC permite configurar diferentes niveles de detalle en logs seg√∫n necesidades.' },
                            { title: 'Policy Configuration', type: 'fill-blank', question: 'Las policies en PCC se configuran usando ______ l√≥gicas:', placeholder: 'Tipo de expresiones...', correct: 'expresiones', explanation: 'Las expresiones l√≥gicas en policies definen condiciones y acciones autom√°ticas.' },
                            { title: 'Configuraci√≥n de Retry', type: 'multiple-choice', question: '¬øQu√© se puede configurar para reintentos autom√°ticos?', options: ['Nada, es manual', 'N√∫mero de intentos, intervalo y condiciones', 'Solo n√∫mero de intentos', 'Solo para errores t√©cnicos'], correct: 1, explanation: 'PCC permite configurar estrategias completas de retry incluyendo cu√°ndo y c√≥mo reintentar.' },
                            { title: 'Archiving Configuration', type: 'multiple-choice', question: '¬øQu√© determina cu√°ndo archivar datos en PCC?', options: ['Espacio en disco', 'Pol√≠ticas de retenci√≥n configurables', 'Nunca se archiva', 'Cada a√±o autom√°ticamente'], correct: 1, explanation: 'Las pol√≠ticas de retenci√≥n determinan cu√°ndo mover datos a archivo seg√∫n antig√ºedad y tipo.' },
                            { title: 'Configuraci√≥n de KPIs', type: 'fill-blank', question: 'Los KPIs en PCC se configuran definiendo ______ y objetivos:', placeholder: 'Qu√© se define...', correct: 'metricas', explanation: 'Las m√©tricas y sus objetivos se configuran para monitorear performance de procesos.' },
                            { title: 'Template Inheritance', type: 'multiple-choice', question: '¬øPueden los templates heredar configuraci√≥n de otros?', options: ['No', 'S√≠, para reutilizar configuraciones comunes', 'Solo en desarrollo', 'Solo un nivel'], correct: 1, explanation: 'La herencia de templates permite crear jerarqu√≠as de configuraci√≥n reutilizable.' },
                            { title: 'Configuraci√≥n de Seguridad', type: 'multiple-choice', question: '¬øQu√© aspectos de seguridad se configuran en PCC?', options: ['Solo passwords', 'Roles, autorizaciones, encriptaci√≥n y auditor√≠a', 'No tiene seguridad', 'Solo roles'], correct: 1, explanation: 'PCC requiere configuraci√≥n integral de seguridad incluyendo todos los aspectos mencionados.' },
                            { title: 'Time Zones', type: 'fill-blank', question: 'Para operaciones globales, PCC maneja ______ m√∫ltiples:', placeholder: 'Configuraci√≥n temporal...', correct: 'husos', explanation: 'La configuraci√≥n de husos horarios es cr√≠tica para operaciones en m√∫ltiples pa√≠ses.' },
                            { title: 'Configuraci√≥n de Moneda', type: 'multiple-choice', question: '¬øC√≥mo maneja PCC m√∫ltiples monedas?', options: ['Una moneda por sistema', 'Configuraci√≥n multi-moneda con tipos de cambio', 'Solo EUR', 'Conversi√≥n manual'], correct: 1, explanation: 'PCC soporta configuraci√≥n multi-moneda con tipos de cambio actualizables.' },
                            { title: 'Integration Points', type: 'multiple-choice', question: '¬øCon qu√© sistemas t√≠picamente se integra PCC?', options: ['Solo SAP', 'SAP FI/CO, bancos, sistemas gubernamentales, BI', 'Solo bancos', 'No se integra'], correct: 1, explanation: 'PCC se integra con m√∫ltiples sistemas internos y externos para flujo completo de datos.' },
                            { title: 'Configuraci√≥n de Calendario', type: 'fill-blank', question: 'Los calendarios de f√°brica determinan d√≠as ______ para c√°lculos:', placeholder: 'Tipo de d√≠as...', correct: 'habiles', explanation: 'Los calendarios definen d√≠as h√°biles, festivos y especiales para c√°lculos correctos.' },
                            { title: 'Error Handling Config', type: 'multiple-choice', question: '¬øQu√© estrategias de manejo de errores se pueden configurar?', options: ['Solo log', 'Stop, Continue, Skip con notificaciones configurables', 'Ignorar todos', 'Solo notificar'], correct: 1, explanation: 'PCC permite configurar diferentes estrategias seg√∫n el tipo y severidad del error.' },
                            { title: 'Configuraci√≥n de Reportes', type: 'multiple-choice', question: '¬øQu√© aspectos de reportes se configuran en PCC?', options: ['Solo formato', 'Formato, contenido, distribuci√≥n y programaci√≥n', 'No tiene reportes', 'Solo contenido'], correct: 1, explanation: 'La configuraci√≥n de reportes es comprehensiva incluyendo todos los aspectos del ciclo de reporting.' },
                            { title: 'Version Management', type: 'fill-blank', question: 'PCC mantiene ______ de configuraciones para control de cambios:', placeholder: 'Qu√© mantiene...', correct: 'versiones', explanation: 'El versionado permite rastrear cambios y revertir configuraciones si es necesario.' },
                            { title: 'Test Configuration', type: 'multiple-choice', question: '¬øC√≥mo se configuran ambientes de prueba en PCC?', options: ['No hay pruebas', 'Copias de configuraci√≥n productiva con datos de prueba', 'Solo en desarrollo', 'Pruebas en producci√≥n'], correct: 1, explanation: 'Los ambientes de prueba replican configuraci√≥n productiva pero con datos seguros de prueba.' },
                            { title: 'Performance Tuning', type: 'multiple-choice', question: '¬øQu√© par√°metros de performance se pueden ajustar?', options: ['Ninguno', 'Buffer sizes, parallel processes, timeouts', 'Solo timeouts', 'Autom√°tico'], correct: 1, explanation: 'M√∫ltiples par√°metros permiten optimizar PCC seg√∫n caracter√≠sticas del sistema.' },
                            { title: 'Configuraci√≥n de Backup', type: 'fill-blank', question: 'Los backups autom√°ticos se configuran con frecuencia ______:', placeholder: 'Intervalo temporal...', correct: 'diaria', explanation: 'La frecuencia de backup (diaria, semanal, etc.) se configura seg√∫n criticidad de datos.' },
                            { title: 'Migration Config', type: 'multiple-choice', question: '¬øQu√© herramientas ayudan en migraci√≥n de configuraci√≥n?', options: ['Manual √∫nicamente', 'Import/Export tools y mapping utilities', 'No hay herramientas', 'Solo consultores'], correct: 1, explanation: 'PCC incluye herramientas para facilitar migraci√≥n de configuraciones entre sistemas.' }
                        ],
                        'monitoreo-pcc': [
                            // Lecciones originales (1-7)
                            { title: 'Monitoreo en Tiempo Real', type: 'multiple-choice', question: '¬øQu√© permite el monitoreo en tiempo real en PCC?', options: ['Solo ver errores pasados', 'Supervisar el progreso actual de los procesos de n√≥mina', 'Solo generar reportes mensuales', 'Solo verificar datos de empleados'], correct: 1, explanation: 'El monitoreo en tiempo real permite supervisar el progreso actual de todos los procesos de n√≥mina.' },
                            { title: 'Indicadores de Estado', type: 'fill-blank', question: 'PCC utiliza ______ visuales para mostrar el estado de los procesos (verde, amarillo, rojo):', placeholder: 'Sistema visual...', correct: 'indicadores', explanation: 'Los indicadores de estado usan colores (verde, amarillo, rojo) para mostrar el estado de los procesos.' },
                            { title: 'Control de Errores', type: 'multiple-choice', question: '¬øC√≥mo maneja PCC los errores en procesos de n√≥mina?', options: ['Los ignora autom√°ticamente', 'Los registra, categoriza y permite su resoluci√≥n sistem√°tica', 'Solo los reporta al final del mes', 'Los corrige autom√°ticamente'], correct: 1, explanation: 'PCC registra, categoriza errores y proporciona herramientas para su resoluci√≥n sistem√°tica.' },
                            { title: 'Reportes de Control', type: 'multiple-choice', question: '¬øQu√© tipos de reportes de control genera PCC?', options: ['Solo reportes financieros', 'Reportes de proceso, excepci√≥n, validaci√≥n y estad√≠sticos', 'Solo reportes de empleados', 'No genera reportes'], correct: 1, explanation: 'PCC genera diversos reportes: de proceso, excepci√≥n, validaci√≥n y estad√≠sticos para control completo.' },
                            { title: 'Simulaciones de N√≥mina', type: 'fill-blank', question: 'PCC permite realizar ______ antes del c√°lculo real para detectar problemas:', placeholder: 'Procesos de prueba...', correct: 'simulaciones', explanation: 'Las simulaciones permiten probar c√°lculos de n√≥mina antes de la ejecuci√≥n real para detectar problemas.' },
                            { title: 'Auditor√≠a de Procesos', type: 'multiple-choice', question: '¬øQu√© informaci√≥n proporciona la auditor√≠a de procesos en PCC?', options: ['Solo datos financieros', 'Rastro completo de qui√©n, qu√©, cu√°ndo y c√≥mo se procesaron las n√≥minas', 'Solo errores cr√≠ticos', 'Solo informaci√≥n de empleados'], correct: 1, explanation: 'La auditor√≠a proporciona un rastro completo de qui√©n, qu√©, cu√°ndo y c√≥mo se procesaron las n√≥minas.' },
                            { title: 'Control de Calidad', type: 'fill-blank', question: 'PCC incluye verificaciones de ______ para asegurar la precisi√≥n de los c√°lculos:', placeholder: 'Verificaci√≥n de precisi√≥n...', correct: 'calidad', explanation: 'Las verificaciones de calidad aseguran que los c√°lculos de n√≥mina sean precisos y consistentes.' },
                            
                            // Lecciones adicionales (8-27)
                            { title: 'Dashboard Personalizable', type: 'multiple-choice', question: '¬øSe puede personalizar el dashboard de PCC?', options: ['No, es fijo', 'S√≠, cada usuario puede configurar sus widgets', 'Solo administradores', 'Solo en desarrollo'], correct: 1, explanation: 'El dashboard es altamente personalizable permitiendo a cada usuario configurar su vista.' },
                            { title: 'Alertas Proactivas', type: 'fill-blank', question: 'PCC puede predecir problemas usando an√°lisis ______:', placeholder: 'Tipo de an√°lisis...', correct: 'predictivo', explanation: 'El an√°lisis predictivo identifica patrones que pueden indicar problemas futuros.' },
                            { title: 'Monitor de Performance', type: 'multiple-choice', question: '¬øQu√© m√©tricas de performance monitorea PCC?', options: ['Solo tiempo total', 'Tiempo por paso, uso de recursos, cuellos de botella', 'No monitorea performance', 'Solo errores'], correct: 1, explanation: 'PCC proporciona m√©tricas detalladas de performance para optimizaci√≥n continua.' },
                            { title: 'Comparaci√≥n de Procesos', type: 'multiple-choice', question: '¬øPuede PCC comparar ejecuciones de procesos?', options: ['No', 'S√≠, para identificar variaciones y anomal√≠as', 'Solo tiempos', 'Solo errores'], correct: 1, explanation: 'La comparaci√≥n de ejecuciones ayuda a identificar desviaciones y mejorar procesos.' },
                            { title: 'Monitoreo M√≥vil', type: 'fill-blank', question: 'Los managers pueden monitorear procesos desde dispositivos ______:', placeholder: 'Tipo de dispositivos...', correct: 'moviles', explanation: 'Las apps m√≥viles permiten monitoreo remoto de procesos cr√≠ticos.' },
                            { title: 'Drill-Down Analysis', type: 'multiple-choice', question: '¬øQu√© permite el an√°lisis drill-down en PCC?', options: ['Ver menos detalle', 'Navegar desde resumen hasta detalle espec√≠fico', 'Solo ver totales', 'Exportar datos'], correct: 1, explanation: 'Drill-down permite investigar desde m√©tricas generales hasta detalles espec√≠ficos.' },
                            { title: 'Monitoreo Multi-Sistema', type: 'multiple-choice', question: '¬øPuede PCC monitorear m√∫ltiples sistemas SAP?', options: ['No, solo uno', 'S√≠, con configuraci√≥n de landscape', 'Solo dos sistemas', 'Solo sistemas id√©nticos'], correct: 1, explanation: 'PCC puede configurarse para monitorear m√∫ltiples sistemas en un landscape.' },
                            { title: 'Umbrales de Alerta', type: 'fill-blank', question: 'Los umbrales de alerta se configuran basados en ______:', placeholder: 'Base para l√≠mites...', correct: 'historicos', explanation: 'Los datos hist√≥ricos ayudan a establecer umbrales realistas para alertas.' },
                            { title: 'Monitor de Excepciones', type: 'multiple-choice', question: '¬øC√≥mo prioriza PCC las excepciones?', options: ['Todas iguales', 'Por impacto, urgencia y frecuencia', 'Solo por tiempo', 'Aleatoriamente'], correct: 1, explanation: 'PCC usa m√∫ltiples factores para priorizar qu√© excepciones requieren atenci√≥n inmediata.' },
                            { title: 'Tracking de SLAs', type: 'multiple-choice', question: '¬øPuede PCC monitorear cumplimiento de SLAs?', options: ['No', 'S√≠, con alertas autom√°ticas por incumplimiento', 'Solo manualmente', 'Solo reportes mensuales'], correct: 1, explanation: 'PCC rastrea SLAs en tiempo real y alerta sobre riesgos de incumplimiento.' },
                            { title: 'An√°lisis de Tendencias', type: 'fill-blank', question: 'PCC identifica tendencias analizando datos ______:', placeholder: 'Per√≠odo de an√°lisis...', correct: 'historicos', explanation: 'El an√°lisis de datos hist√≥ricos revela tendencias y patrones importantes.' },
                            { title: 'Monitor de Dependencias', type: 'multiple-choice', question: '¬øC√≥mo visualiza PCC las dependencias entre procesos?', options: ['Lista simple', 'Diagramas de flujo interactivos', 'No las muestra', 'Solo texto'], correct: 1, explanation: 'Los diagramas interactivos muestran claramente las dependencias y su estado.' },
                            { title: 'Monitoreo de Recursos', type: 'multiple-choice', question: '¬øQu√© recursos del sistema monitorea PCC?', options: ['Solo CPU', 'CPU, memoria, I/O, conexiones de BD', 'No monitorea recursos', 'Solo memoria'], correct: 1, explanation: 'El monitoreo integral de recursos ayuda a prevenir problemas de performance.' },
                            { title: 'Alertas Inteligentes', type: 'fill-blank', question: 'PCC agrupa alertas similares para evitar ______:', placeholder: 'Problema a evitar...', correct: 'saturacion', explanation: 'La agrupaci√≥n inteligente evita saturaci√≥n de alertas repetitivas.' },
                            { title: 'Monitor de Cambios', type: 'multiple-choice', question: '¬øRastrea PCC cambios en configuraci√≥n?', options: ['No', 'S√≠, con completo historial de qui√©n, qu√© y cu√°ndo', 'Solo fecha', 'Solo en desarrollo'], correct: 1, explanation: 'El tracking de cambios es esencial para auditor√≠a y troubleshooting.' },
                            { title: 'Visualizaci√≥n de Datos', type: 'multiple-choice', question: '¬øQu√© tipos de visualizaci√≥n ofrece PCC?', options: ['Solo tablas', 'Gr√°ficos, mapas de calor, diagramas y tablas', 'Solo texto', 'Solo gr√°ficos de barras'], correct: 1, explanation: 'M√∫ltiples visualizaciones ayudan a entender r√°pidamente el estado de procesos.' },
                            { title: 'Monitoreo Predictivo', type: 'fill-blank', question: 'El monitoreo predictivo anticipa problemas usando ______:', placeholder: 'Tecnolog√≠a utilizada...', correct: 'algoritmos', explanation: 'Algoritmos de machine learning analizan patrones para predecir problemas.' },
                            { title: 'Export de M√©tricas', type: 'multiple-choice', question: '¬øA qu√© formatos puede exportar PCC las m√©tricas?', options: ['Solo PDF', 'Excel, PDF, CSV, y APIs para BI', 'No exporta', 'Solo impresi√≥n'], correct: 1, explanation: 'M√∫ltiples formatos de exportaci√≥n facilitan an√°lisis externo y reporting.' },
                            { title: 'Monitoreo 24/7', type: 'multiple-choice', question: '¬øC√≥mo asegura PCC monitoreo continuo?', options: ['Requiere usuario activo', 'Procesos de background y alertas autom√°ticas', 'Solo horario laboral', 'Manual'], correct: 1, explanation: 'Los procesos de background aseguran monitoreo continuo sin intervenci√≥n.' },
                            { title: 'ROI del Monitoreo', type: 'multiple-choice', question: '¬øCu√°l es el principal beneficio del monitoreo PCC?', options: ['Cumplir regulaciones', 'Prevenci√≥n de errores costosos y optimizaci√≥n continua', 'Generar reportes', 'Reducir personal'], correct: 1, explanation: 'La prevenci√≥n proactiva y optimizaci√≥n generan significativo retorno de inversi√≥n.' }
                        ]
                    }
                };

                return lessons;
            };

            const lessons = createLessons();

            // Resto de las funciones...
            const markLessonCompleted = (module, level, subsection, lessonIndex, isCorrect) => {
                const key = `${module}-${level}-${subsection}`;
                setAppState(prev => {
                    const newCompletedLessons = { ...prev.completedLessons };
                    const newModuleProgress = { ...prev.moduleProgress };

                    if (!newCompletedLessons[key]) {
                        newCompletedLessons[key] = {};
                    }
                    newCompletedLessons[key][lessonIndex] = isCorrect;

                    if (!newModuleProgress[key]) {
                        newModuleProgress[key] = { completed: 0, total: 0, score: 0 };
                    }
                    
                    const totalLessons = lessons[module][level][subsection].length;
                    const completedCount = Object.keys(newCompletedLessons[key]).length;
                    const correctCount = Object.values(newCompletedLessons[key]).filter(Boolean).length;
                    
                    newModuleProgress[key] = {
                        completed: completedCount,
                        total: totalLessons,
                        score: correctCount
                    };

                    return {
                        ...prev,
                        completedLessons: newCompletedLessons,
                        moduleProgress: newModuleProgress
                    };
                });
            };

            const getSubsectionProgress = (module, level, subsection) => {
                const key = `${module}-${level}-${subsection}`;
                return appState.moduleProgress[key] || { completed: 0, total: 0, score: 0 };
            };

            const resetProgress = () => {
                try {
                    localStorage.removeItem('sapLearningProgress');
                    setAppState({
                        currentScreen: 'home',
                        selectedModule: null,
                        selectedLevel: null,
                        selectedSubsection: null,
                        currentLesson: 0,
                        score: 0,
                        completedLessons: {},
                        moduleProgress: {}
                    });
                } catch (e) {
                    console.error('Error resetting progress:', e);
                }
            };

            const checkAnswer = (answer) => {
                const currentLessonData = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection][appState.currentLesson];
                let correct = false;
                
                if (currentLessonData.type === 'multiple-choice') {
                    correct = answer === currentLessonData.correct;
                } else if (currentLessonData.type === 'fill-blank') {
                    const userAnswerLower = answer.toLowerCase().trim();
                    correct = userAnswerLower === currentLessonData.correct.toLowerCase();
                }

                setIsCorrect(correct);
                setShowResult(true);
                
                markLessonCompleted(appState.selectedModule, appState.selectedLevel, appState.selectedSubsection, appState.currentLesson, correct);
                
                if (correct) {
                    updateAppState({ score: appState.score + 1 });
                }
            };

            const handleMultipleChoice = (optionIndex) => {
                checkAnswer(optionIndex);
            };

            const handleFillBlank = () => {
                if (userAnswer.trim()) {
                    checkAnswer(userAnswer);
                }
            };

            const nextLesson = () => {
                setShowResult(false);
                setUserAnswer('');
                setIsCorrect(false);
                
                if (appState.currentLesson < lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length - 1) {
                    updateAppState({ currentLesson: appState.currentLesson + 1 });
                } else {
                    updateAppState({ currentScreen: 'completed' });
                }
            };

            const resetApp = () => {
                updateAppState({
                    currentScreen: 'home',
                    selectedModule: null,
                    selectedLevel: null,
                    selectedSubsection: null,
                    currentLesson: 0,
                    score: 0
                });
            };

            // Renderizado de pantallas
            if (appState.currentScreen === 'home') {
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "text-center mb-8 pt-8" },
                            React.createElement('div', { className: "w-16 h-16 bg-blue-600 rounded-2xl mx-auto mb-4 flex items-center justify-center" },
                                React.createElement(BookOpen, { className: "w-8 h-8 text-white" })
                            ),
                            React.createElement('h1', { className: "text-3xl font-light text-gray-900 mb-2" }, 'SAP Learning'),
                            React.createElement('p', { className: "text-gray-600" }, 'Aprende SAP de forma interactiva'),
                            React.createElement('div', { className: "mt-4 flex justify-center space-x-4" },
                                React.createElement('button', {
                                    onClick: resetProgress,
                                    className: "text-sm text-red-600 hover:text-red-800 underline"
                                }, 'Reiniciar Progreso')
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            Object.entries(modules).map(([key, module]) => {
                                // Calcular progreso general del m√≥dulo
                                const moduleSubsections = Object.keys(subsections[key] || {}).flatMap(level => 
                                    Object.keys(subsections[key][level] || {}).map(subsection => `${key}-${level}-${subsection}`)
                                );
                                const moduleProgress = moduleSubsections.reduce((acc, subKey) => {
                                    const progress = appState.moduleProgress[subKey] || { completed: 0, total: 0, score: 0 };
                                    acc.completed += progress.completed;
                                    acc.total += progress.total;
                                    acc.score += progress.score;
                                    return acc;
                                }, { completed: 0, total: 0, score: 0 });
                                
                                const progressPercentage = moduleProgress.total > 0 ? Math.round((moduleProgress.completed / moduleProgress.total) * 100) : 0;
                                
                                return React.createElement('button', {
                                    key: key,
                                    onClick: () => {
                                        updateAppState({ selectedModule: key, currentScreen: 'levels' });
                                    },
                                    className: `w-full p-6 rounded-2xl border-2 ${module.color} hover:shadow-lg transition-all duration-200 text-left`
                                },
                                    React.createElement('div', { className: "flex items-center justify-between" },
                                        React.createElement('div', { className: "flex items-center space-x-4" },
                                            React.createElement(module.icon, { className: "w-8 h-8 text-gray-700" }),
                                            React.createElement('div', null,
                                                React.createElement('h3', { className: "text-xl font-medium text-gray-900" }, module.title),
                                                React.createElement('p', { className: "text-gray-600 text-sm mt-1" }, module.description),
                                                moduleProgress.total > 0 && React.createElement('div', { className: "mt-2" },
                                                    React.createElement('div', { className: "w-32 bg-gray-200 rounded-full h-2" },
                                                        React.createElement('div', {
                                                            className: "bg-blue-600 h-2 rounded-full",
                                                            style: { width: `${progressPercentage}%` }
                                                        })
                                                    ),
                                                    React.createElement('p', { className: "text-xs text-gray-500 mt-1" },
                                                        `${progressPercentage}% completado (${moduleProgress.score}/${moduleProgress.total})`
                                                    )
                                                )
                                            )
                                        ),
                                        React.createElement(ChevronRight, { className: "w-6 h-6 text-gray-400" })
                                    )
                                );
                            })
                        )
                    )
                );
            }

            if (appState.currentScreen === 'levels') {
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "flex items-center mb-6 pt-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'home' }),
                                className: "p-2 hover:bg-gray-200 rounded-full transition-colors"
                            },
                                React.createElement(ChevronLeft, { className: "w-6 h-6 text-gray-600" })
                            ),
                            React.createElement('h2', { className: "text-2xl font-light text-gray-900 ml-4" },
                                `Niveles de ${modules[appState.selectedModule].title}`
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            Object.entries(levels).map(([key, level]) => {
                                const subsectionCount = Object.keys(subsections[appState.selectedModule][key] || {}).length;
                                const isAvailable = subsectionCount > 0;
                                
                                return React.createElement('button', {
                                    key: key,
                                    onClick: () => {
                                        if (isAvailable) {
                                            updateAppState({ selectedLevel: key, currentScreen: 'subsections' });
                                        }
                                    },
                                    disabled: !isAvailable,
                                    className: `w-full p-6 rounded-2xl border-2 transition-all duration-200 text-left ${
                                        isAvailable 
                                            ? 'border-gray-200 bg-white hover:shadow-lg cursor-pointer' 
                                            : 'border-gray-100 bg-gray-50 cursor-not-allowed opacity-60'
                                    }`
                                },
                                    React.createElement('div', { className: "flex items-center justify-between" },
                                        React.createElement('div', { className: "flex items-center space-x-4" },
                                            React.createElement('div', { className: "text-3xl" }, level.icon),
                                            React.createElement('div', null,
                                                React.createElement('h3', { className: "text-xl font-medium text-gray-900" }, level.title),
                                                React.createElement('p', { className: "text-gray-600 text-sm mt-1" }, level.description),
                                                React.createElement('p', { 
                                                    className: `text-xs mt-1 ${isAvailable ? 'text-blue-600' : 'text-gray-400'}`
                                                }, isAvailable ? `${subsectionCount} secciones` : 'Pr√≥ximamente')
                                            )
                                        ),
                                        isAvailable && React.createElement(ChevronRight, { className: "w-6 h-6 text-gray-400" })
                                    )
                                );
                            })
                        )
                    )
                );
            }

            if (appState.currentScreen === 'subsections') {
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "flex items-center mb-6 pt-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'levels' }),
                                className: "p-2 hover:bg-gray-200 rounded-full transition-colors"
                            },
                                React.createElement(ChevronLeft, { className: "w-6 h-6 text-gray-600" })
                            ),
                            React.createElement('h2', { className: "text-2xl font-light text-gray-900 ml-4" },
                                levels[appState.selectedLevel].title
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            Object.entries(subsections[appState.selectedModule][appState.selectedLevel]).map(([key, subsection]) => {
                                const lessonCount = lessons[appState.selectedModule][appState.selectedLevel][key]?.length || 0;
                                const isAvailable = lessonCount > 0;
                                const progress = getSubsectionProgress(appState.selectedModule, appState.selectedLevel, key);
                                const progressPercentage = progress.total > 0 ? Math.round((progress.completed / progress.total) * 100) : 0;
                                
                                return React.createElement('button', {
                                    key: key,
                                    onClick: () => {
                                        if (isAvailable) {
                                            updateAppState({ 
                                                selectedSubsection: key, 
                                                currentLesson: 0, 
                                                score: 0, 
                                                currentScreen: 'lesson' 
                                            });
                                        }
                                    },
                                    disabled: !isAvailable,
                                    className: `w-full p-6 rounded-2xl border-2 transition-all duration-200 text-left ${
                                        isAvailable 
                                            ? `border-gray-200 ${subsection.color} hover:shadow-lg cursor-pointer` 
                                            : 'border-gray-100 bg-gray-50 cursor-not-allowed opacity-60'
                                    }`
                                },
                                    React.createElement('div', { className: "flex items-center justify-between" },
                                        React.createElement('div', { className: "flex items-center space-x-4" },
                                            React.createElement('div', { className: "text-3xl" }, subsection.icon),
                                            React.createElement('div', null,
                                                React.createElement('h3', { className: "text-xl font-medium text-gray-900" }, subsection.title),
                                                React.createElement('p', { className: "text-gray-600 text-sm mt-1" }, subsection.description),
                                                React.createElement('p', { 
                                                    className: `text-xs mt-1 ${isAvailable ? 'text-blue-600' : 'text-gray-400'}`
                                                }, lessonCount > 0 ? `${lessonCount} lecciones` : 'Pr√≥ximamente'),
                                                progress.total > 0 && React.createElement('div', { className: "mt-2" },
                                                    React.createElement('div', { className: "w-32 bg-gray-200 rounded-full h-2" },
                                                        React.createElement('div', {
                                                            className: "bg-green-600 h-2 rounded-full",
                                                            style: { width: `${progressPercentage}%` }
                                                        })
                                                    ),
                                                    React.createElement('p', { className: "text-xs text-gray-500 mt-1" },
                                                        `${progressPercentage}% - ${progress.score}/${progress.total} correctas`
                                                    )
                                                )
                                            )
                                        ),
                                        isAvailable && React.createElement(ChevronRight, { className: "w-6 h-6 text-gray-400" })
                                    )
                                );
                            })
                        )
                    )
                );
            }

            if (appState.currentScreen === 'lesson') {
                const currentLessonData = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection][appState.currentLesson];
                const totalLessons = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length;
                const progressPercent = ((appState.currentLesson + 1) / totalLessons) * 100;

                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "flex items-center justify-between mb-6 pt-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'subsections' }),
                                className: "p-2 hover:bg-gray-200 rounded-full transition-colors"
                            },
                                React.createElement(ChevronLeft, { className: "w-6 h-6 text-gray-600" })
                            ),
                            React.createElement('div', { className: "flex-1 mx-4" },
                                React.createElement('div', { className: "w-full bg-gray-200 rounded-full h-2" },
                                    React.createElement('div', { 
                                        className: "bg-blue-600 h-2 rounded-full transition-all duration-500",
                                        style: { width: `${progressPercent}%` }
                                    })
                                ),
                                React.createElement('p', { className: "text-xs text-gray-600 mt-1 text-center" },
                                    `${appState.currentLesson + 1} de ${totalLessons} ‚Ä¢ Puntos: ${appState.score}`
                                )
                            )
                        ),

                        React.createElement('div', { className: "bg-white rounded-2xl p-6 mb-6 shadow-sm" },
                            React.createElement('h3', { className: "text-xl font-medium text-gray-900 mb-4" },
                                currentLessonData.title
                            ),
                            React.createElement('p', { className: "text-gray-700 mb-4" }, currentLessonData.question),

                            currentLessonData.code && React.createElement('div', { className: "bg-gray-900 rounded-lg p-4 mb-4 overflow-x-auto" },
                                React.createElement('pre', { className: "text-green-400 text-sm font-mono whitespace-pre-wrap" },
                                    currentLessonData.code
                                )
                            ),

                            React.createElement('div', { className: "space-y-3" },
                                currentLessonData.type === 'multiple-choice' ?
                                    currentLessonData.options.map((option, index) =>
                                        React.createElement('button', {
                                            key: index,
                                            onClick: () => handleMultipleChoice(index),
                                            disabled: showResult,
                                            className: `w-full p-4 text-left rounded-xl border-2 transition-all duration-200 ${
                                                showResult 
                                                    ? (index === currentLessonData.correct 
                                                        ? 'border-green-500 bg-green-50' 
                                                        : 'border-gray-200 opacity-60')
                                                    : 'border-gray-200 hover:border-blue-300 hover:bg-blue-50'
                                            } disabled:cursor-not-allowed`
                                        },
                                            React.createElement('span', { className: "flex items-center" },
                                                React.createElement('span', { className: "w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex items-center justify-center text-xs" },
                                                    String.fromCharCode(65 + index)
                                                ),
                                                option
                                            )
                                        )
                                    ) :
                                    React.createElement('div', null,
                                        React.createElement('input', {
                                            type: "text",
                                            value: userAnswer,
                                            onChange: (e) => setUserAnswer(e.target.value),
                                            placeholder: currentLessonData.placeholder || "Escribe tu respuesta...",
                                            className: "w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none transition-colors",
                                            disabled: showResult,
                                            onKeyPress: (e) => e.key === 'Enter' && !showResult && handleFillBlank()
                                        }),
                                        !showResult && React.createElement('button', {
                                            onClick: handleFillBlank,
                                            disabled: !userAnswer.trim(),
                                            className: "w-full mt-3 bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"
                                        }, 'Verificar Respuesta')
                                    )
                            )
                        ),

                        showResult && React.createElement('div', { 
                            className: `rounded-2xl p-6 shadow-sm ${isCorrect ? 'bg-green-50 border-2 border-green-200' : 'bg-red-50 border-2 border-red-200'}`
                        },
                            React.createElement('div', { className: "text-center mb-4" },
                                React.createElement('div', { 
                                    className: `w-16 h-16 mx-auto mb-3 flex items-center justify-center rounded-full ${isCorrect ? 'bg-green-100' : 'bg-red-100'}`
                                },
                                    isCorrect ? 
                                        React.createElement(Check, { className: "w-8 h-8 text-green-600" }) :
                                        React.createElement(X, { className: "w-8 h-8 text-red-600" })
                                ),
                                React.createElement('h4', { 
                                    className: `text-lg font-medium mb-2 ${isCorrect ? 'text-green-900' : 'text-red-900'}`
                                }, isCorrect ? '¬°Correcto!' : 'Incorrecto'),
                                React.createElement('p', { 
                                    className: `text-sm ${isCorrect ? 'text-green-700' : 'text-red-700'}`
                                }, currentLessonData.explanation)
                            ),
                            React.createElement('button', {
                                onClick: nextLesson,
                                className: "w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors"
                            }, appState.currentLesson < lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length - 1 ? 'Siguiente Lecci√≥n' : 'Ver Resultados')
                        )
                    )
                );
            }

            if (appState.currentScreen === 'completed') {
                const totalLessons = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length;
                const percentage = Math.round((appState.score / totalLessons) * 100);
                
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4 flex items-center justify-center" },
                    React.createElement('div', { className: "max-w-md mx-auto text-center" },
                        React.createElement('div', { 
                            className: `w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center ${
                                percentage >= 80 ? 'bg-green-600' : percentage >= 60 ? 'bg-yellow-500' : 'bg-red-500'
                            }`
                        },
                            React.createElement(Award, { className: "w-10 h-10 text-white" })
                        ),
                        React.createElement('h2', { className: "text-3xl font-light text-gray-900 mb-4" }, '¬°Secci√≥n Completada!'),
                        React.createElement('p', { className: "text-gray-600 mb-2" },
                            `Has terminado ${subsections[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].title}`
                        ),
                        React.createElement('div', { className: "text-center mb-6" },
                            React.createElement('p', { className: "text-4xl font-bold text-blue-600 mb-2" }, `${percentage}%`),
                            React.createElement('p', { className: "text-gray-600" },
                                `${appState.score} de ${totalLessons} respuestas correctas`
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'subsections' }),
                                className: "w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors"
                            }, 'Elegir Otra Secci√≥n'),
                            React.createElement('button', {
                                onClick: resetApp,
                                className: "w-full border-2 border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-colors"
                            }, 'Volver al Inicio')
                        )
                    )
                );
            }

            return React.createElement('div', { className: "loading" }, 'Cargando...');
        };

        // Renderizar la aplicaci√≥n
        ReactDOM.render(React.createElement(SAPLearningApp), document.getElementById('root'));
    </script>
</body>
</html>

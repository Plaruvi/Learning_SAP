<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAP Learning - Aprende SAP de forma interactiva</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 24px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">Cargando SAP Learning...</div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Iconos simplificados
        const ChevronRight = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '9,18 15,12 9,6' }));

        const ChevronLeft = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '15,18 9,12 15,6' }));

        const Check = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '20,6 9,17 4,12' }));

        const X = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('line', { x1: '18', y1: '6', x2: '6', y2: '18' }), React.createElement('line', { x1: '6', y1: '6', x2: '18', y2: '18' }));

        const BookOpen = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('path', { d: 'M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z' }), React.createElement('path', { d: 'M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z' }));

        const Code = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('polyline', { points: '16,18 22,12 16,6' }), React.createElement('polyline', { points: '8,6 2,12 8,18' }));

        const Database = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('ellipse', { cx: '12', cy: '5', rx: '9', ry: '3' }), React.createElement('path', { d: 'M21 12c0 1.66-4 3-9 3s-9-1.34-9-3' }), React.createElement('path', { d: 'M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5' }));

        const Award = (props) => React.createElement('svg', {
            ...props,
            width: props.size || 24,
            height: props.size || 24,
            viewBox: '0 0 24 24',
            fill: 'none',
            stroke: 'currentColor',
            strokeWidth: '2',
            strokeLinecap: 'round',
            strokeLinejoin: 'round'
        }, React.createElement('circle', { cx: '12', cy: '8', r: '7' }), React.createElement('polyline', { points: '8.21,13.89 7,23 12,20 17,23 15.79,13.88' }));

        const SAPLearningApp = () => {
            // Estado inicial desde localStorage
            const getInitialState = () => {
                try {
                    const saved = localStorage.getItem('sapLearningProgress');
                    if (saved) {
                        return JSON.parse(saved);
                    }
                } catch (e) {
                    console.error('Error parsing saved data:', e);
                }
                return {
                    currentScreen: 'home',
                    selectedModule: null,
                    selectedLevel: null,
                    selectedSubsection: null,
                    currentLesson: 0,
                    score: 0,
                    completedLessons: {},
                    moduleProgress: {}
                };
            };

            const [appState, setAppState] = useState(getInitialState());
            const [userAnswer, setUserAnswer] = useState('');
            const [showResult, setShowResult] = useState(false);
            const [isCorrect, setIsCorrect] = useState(false);

            // Guardar progreso en localStorage
            useEffect(() => {
                try {
                    localStorage.setItem('sapLearningProgress', JSON.stringify(appState));
                } catch (e) {
                    console.error('Error saving progress:', e);
                }
            }, [appState]);

            // Funci√≥n para actualizar estado
            const updateAppState = (updates) => {
                setAppState(prev => ({ ...prev, ...updates }));
            };

            // Datos de la aplicaci√≥n
            const modules = {
                abap: {
                    title: 'ABAP',
                    icon: Code,
                    description: 'Aprende programaci√≥n en SAP ABAP',
                    color: 'bg-blue-50 border-blue-200'
                },
                schemas: {
                    title: 'Esquemas SAP',
                    icon: Database,
                    description: 'Domina los esquemas y estructuras de SAP',
                    color: 'bg-green-50 border-green-200'
                },
                pcc: {
                    title: 'PCC (Payroll Control Center)',
                    icon: Database,
                    description: 'Centro de Control de N√≥mina - Gesti√≥n y monitoreo',
                    color: 'bg-purple-50 border-purple-200'
                }
            };

            const levels = {
                beginner: {
                    title: 'Principiante',
                    description: 'Conceptos b√°sicos y fundamentos',
                    icon: 'üå±'
                },
                intermediate: {
                    title: 'Intermedio',
                    description: 'Configuraci√≥n y aplicaci√≥n pr√°ctica',
                    icon: 'üöÄ'
                },
                advanced: {
                    title: 'Avanzado',
                    description: 'Optimizaci√≥n y casos complejos',
                    icon: '‚≠ê'
                }
            };

            const subsections = {
                abap: {
                    beginner: {
                        'fundamentos': {
                            title: 'Fundamentos ABAP',
                            description: 'Variables, tipos de datos, estructuras b√°sicas',
                            icon: 'üìö',
                            color: 'bg-blue-50'
                        },
                        'estructuras-control': {
                            title: 'Estructuras de Control',
                            description: 'IF, CASE, WHILE, bucles y condiciones',
                            icon: 'üîÑ',
                            color: 'bg-purple-50'
                        },
                        'tablas-internas': {
                            title: 'Tablas Internas',
                            description: 'Declaraci√≥n, manipulaci√≥n y procesamiento',
                            icon: 'üìä',
                            color: 'bg-indigo-50'
                        }
                    },
                    intermediate: {
                        'abap-oo': {
                            title: 'ABAP Orientado a Objetos',
                            description: 'Clases, objetos, herencia e interfaces',
                            icon: 'üèóÔ∏è',
                            color: 'bg-emerald-50'
                        },
                        'field-symbols': {
                            title: 'Field Symbols',
                            description: 'Punteros, asignaciones din√°micas y performance',
                            icon: 'üéØ',
                            color: 'bg-orange-50'
                        },
                        'modularizacion': {
                            title: 'Modularizaci√≥n',
                            description: 'Funciones, m√©todos y reutilizaci√≥n de c√≥digo',
                            icon: 'üß©',
                            color: 'bg-cyan-50'
                        },
                        'debugging': {
                            title: 'Debugging ABAP',
                            description: 'T√©cnicas de depuraci√≥n y resoluci√≥n de problemas',
                            icon: 'üêõ',
                            color: 'bg-red-50'
                        }
                    },
                    advanced: {
                        'patrones-diseno': {
                            title: 'Patrones de Dise√±o',
                            description: 'Factory, Singleton, Observer y m√°s',
                            icon: '‚öôÔ∏è',
                            color: 'bg-rose-50'
                        },
                        'performance': {
                            title: 'Optimizaci√≥n Performance',
                            description: 'SQL eficiente, √≠ndices y mejores pr√°cticas',
                            icon: '‚ö°',
                            color: 'bg-yellow-50'
                        }
                    }
                },
                schemas: {
                    beginner: {
                        'conceptos-basicos': {
                            title: 'Conceptos B√°sicos',
                            description: 'Qu√© son los esquemas, tipos y estructura',
                            icon: 'üìã',
                            color: 'bg-green-50'
                        },
                        'configuracion': {
                            title: 'Configuraci√≥n B√°sica',
                            description: 'Creaci√≥n y asignaci√≥n de esquemas',
                            icon: '‚öôÔ∏è',
                            color: 'bg-teal-50'
                        }
                    },
                    intermediate: {
                        'esquemas-avanzados': {
                            title: 'Esquemas Avanzados',
                            description: 'Validaciones, sustituciones y debugging',
                            icon: 'üîß',
                            color: 'bg-lime-50'
                        }
                    },
                    advanced: {
                        'optimizacion': {
                            title: 'Optimizaci√≥n',
                            description: 'Performance, mejores pr√°cticas y troubleshooting',
                            icon: 'üöÄ',
                            color: 'bg-emerald-50'
                        }
                    }
                },
                pcc: {
                    beginner: {
                        'conceptos-pcc': {
                            title: 'Conceptos B√°sicos PCC',
                            description: 'Introducci√≥n al Payroll Control Center',
                            icon: 'üìä',
                            color: 'bg-purple-50'
                        },
                        'configuracion-pcc': {
                            title: 'Configuraci√≥n PCC',
                            description: 'Setup inicial y configuraci√≥n b√°sica',
                            icon: '‚öôÔ∏è',
                            color: 'bg-indigo-50'
                        },
                        'monitoreo-pcc': {
                            title: 'Monitoreo y Control',
                            description: 'Supervisi√≥n de procesos de n√≥mina',
                            icon: 'üìà',
                            color: 'bg-pink-50'
                        }
                    }
                }
            };

            // Datos de lecciones simplificados para testing
            const lessons = {
                abap: {
                    beginner: {
                        'fundamentos': [
                            {
                                title: 'Tipos de Datos B√°sicos',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es el tipo de dato correcto para almacenar un n√∫mero entero en ABAP?',
                                options: ['STRING', 'I', 'P', 'C'],
                                correct: 1,
                                explanation: 'El tipo "I" (Integer) se usa para n√∫meros enteros en ABAP.'
                            },
                            {
                                title: 'Declaraci√≥n de Variables',
                                type: 'fill-blank',
                                question: 'Completa la declaraci√≥n de una variable de texto en ABAP:',
                                code: `DATA: lv_nombre TYPE ______(50).`,
                                placeholder: 'Escribe el tipo de dato...',
                                correct: 'string',
                                explanation: 'STRING es el tipo para texto variable, C(50) ser√≠a para texto fijo de 50 caracteres.'
                            }
                        ],
                        'estructuras-control': [
                            {
                                title: 'Estructura IF-ENDIF',
                                type: 'fill-blank',
                                question: 'Completa la estructura condicional:',
                                code: `IF lv_edad > 18.\n  WRITE: 'Mayor de edad'.\n______.`,
                                placeholder: 'Escribe la palabra clave...',
                                correct: 'endif',
                                explanation: 'ENDIF cierra la estructura IF en ABAP.'
                            }
                        ],
                        'tablas-internas': [
                            {
                                title: 'Declaraci√≥n de Tabla Interna',
                                type: 'fill-blank',
                                question: 'Declara una tabla interna de tipo est√°ndar:',
                                code: `DATA: lt_empleados TYPE ______ TABLE OF ty_empleado.`,
                                placeholder: 'Tipo de tabla...',
                                correct: 'standard',
                                explanation: 'STANDARD TABLE es el tipo m√°s com√∫n de tabla interna en ABAP.'
                            }
                        ]
                    },
                    intermediate: {
                        'abap-oo': [
                            {
                                title: 'Definici√≥n de Clase',
                                type: 'fill-blank',
                                question: 'Completa la definici√≥n de una clase:',
                                code: `______ lcl_empleado DEFINITION.\n  PUBLIC SECTION.\n    DATA: mv_nombre TYPE string.\nENDCLASS.`,
                                placeholder: 'Palabras clave...',
                                correct: 'class',
                                explanation: 'Las clases se definen con CLASS...ENDCLASS en ABAP.'
                            }
                        ],
                        'field-symbols': [
                            {
                                title: 'Declaraci√≥n de Field Symbol',
                                type: 'fill-blank',
                                question: 'Declara un field symbol:',
                                code: `______-SYMBOLS: <fs_empleado> TYPE ty_empleado.`,
                                placeholder: 'Palabra clave...',
                                correct: 'field',
                                explanation: 'FIELD-SYMBOLS declara un field symbol que act√∫a como puntero.'
                            }
                        ],
                        'modularizacion': [
                            {
                                title: 'M√≥dulos de Funci√≥n',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es la principal ventaja de los m√≥dulos de funci√≥n?',
                                options: [
                                    'Son m√°s r√°pidos',
                                    'Permiten reutilizaci√≥n de c√≥digo',
                                    'Ocupan menos memoria',
                                    'Son m√°s seguros'
                                ],
                                correct: 1,
                                explanation: 'Los m√≥dulos de funci√≥n permiten reutilizar c√≥digo y centralizar l√≥gica com√∫n.'
                            }
                        ],
                        'debugging': [
                            {
                                title: 'Activaci√≥n del Debugger',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es la forma m√°s com√∫n de activar el debugger en ABAP?',
                                options: [
                                    'F8',
                                    '/H en el campo de comandos',
                                    'Ctrl+D',
                                    'Alt+F12'
                                ],
                                correct: 1,
                                explanation: 'Escribir /H en el campo de comandos SAP activa el debugger para la siguiente acci√≥n.'
                            }
                        ]
                    },
                    advanced: {
                        'patrones-diseno': [
                            {
                                title: 'Factory Pattern',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es el beneficio principal del patr√≥n Factory?',
                                options: [
                                    'Mejora el rendimiento',
                                    'Centraliza la creaci√≥n de objetos',
                                    'Reduce el uso de memoria',
                                    'Simplifica la herencia'
                                ],
                                correct: 1,
                                explanation: 'El patr√≥n Factory centraliza y controla la creaci√≥n de objetos.'
                            }
                        ],
                        'performance': [
                            {
                                title: 'Optimizaci√≥n SQL',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es la mejor pr√°ctica para consultas SQL en ABAP?',
                                options: [
                                    'Usar SELECT *',
                                    'Usar SELECT con campos espec√≠ficos',
                                    'Usar m√∫ltiples SELECT individuales',
                                    'Evitar WHERE clause'
                                ],
                                correct: 1,
                                explanation: 'SELECT con campos espec√≠ficos reduce transferencia de datos y mejora rendimiento.'
                            }
                        ]
                    }
                },
                schemas: {
                    beginner: {
                        'conceptos-basicos': [
                            {
                                title: '¬øQu√© es un Esquema SAP?',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es la definici√≥n correcta de un esquema en SAP?',
                                options: [
                                    'Una tabla de base de datos',
                                    'Un conjunto de reglas y c√°lculos que se ejecutan autom√°ticamente',
                                    'Un reporte de datos',
                                    'Una transacci√≥n espec√≠fica'
                                ],
                                correct: 1,
                                explanation: 'Un esquema SAP es un conjunto de reglas, c√°lculos y validaciones que se ejecutan autom√°ticamente en procesos espec√≠ficos.'
                            }
                        ],
                        'configuracion': [
                            {
                                title: 'Creaci√≥n de Esquemas',
                                type: 'multiple-choice',
                                question: '¬øEn qu√© herramienta se crean los esquemas SAP?',
                                options: [
                                    'SE80',
                                    'SPRO (IMG)',
                                    'SE11',
                                    'SM30'
                                ],
                                correct: 1,
                                explanation: 'Los esquemas se crean y configuran en SPRO (Implementation Guide).'
                            }
                        ]
                    },
                    intermediate: {
                        'esquemas-avanzados': [
                            {
                                title: 'Configuraci√≥n de Esquemas',
                                type: 'multiple-choice',
                                question: '¬øEn qu√© transacci√≥n se configuran los esquemas de contabilizaci√≥n autom√°tica?',
                                options: ['OB41', 'OBX1', 'OBYC', 'OBA1'],
                                correct: 0,
                                explanation: 'OB41 es la transacci√≥n para configurar esquemas de contabilizaci√≥n autom√°tica en SAP.'
                            }
                        ]
                    },
                    advanced: {
                        'optimizacion': [
                            {
                                title: 'Esquemas Complejos',
                                type: 'multiple-choice',
                                question: '¬øCu√°l es la mejor pr√°ctica para esquemas con muchos pasos?',
                                options: [
                                    'Usar un solo esquema grande',
                                    'Dividir en m√∫ltiples esquemas m√°s peque√±os',
                                    'Evitar usar esquemas',
                                    'Usar solo validaciones manuales'
                                ],
                                correct: 1,
                                explanation: 'Es mejor dividir esquemas complejos en m√∫ltiples esquemas m√°s peque√±os y manejables.'
                            }
                        ]
                    }
                },
                pcc: {
                    beginner: {
                        'conceptos-pcc': [
                            {
                                title: '¬øQu√© es PCC?',
                                type: 'multiple-choice',
                                question: '¬øQu√© significa PCC en SAP HCM?',
                                options: [
                                    'Personal Control Center',
                                    'Payroll Control Center',
                                    'Process Control Center',
                                    'Personnel Configuration Center'
                                ],
                                correct: 1,
                                explanation: 'PCC significa Payroll Control Center, el centro de control de n√≥mina en SAP HCM.'
                            }
                        ],
                        'configuracion-pcc': [
                            {
                                title: 'Configuraci√≥n Inicial',
                                type: 'multiple-choice',
                                question: '¬øQu√© es lo primero que se debe configurar en PCC?',
                                options: [
                                    'Los empleados',
                                    'Los esquemas de n√≥mina y par√°metros del sistema',
                                    'Los reportes',
                                    'Las autorizaciones'
                                ],
                                correct: 1,
                                explanation: 'La configuraci√≥n inicial requiere definir esquemas de n√≥mina y par√°metros b√°sicos del sistema.'
                            }
                        ],
                        'monitoreo-pcc': [
                            {
                                title: 'Monitoreo en Tiempo Real',
                                type: 'multiple-choice',
                                question: '¬øQu√© permite el monitoreo en tiempo real en PCC?',
                                options: [
                                    'Solo ver errores pasados',
                                    'Supervisar el progreso actual de los procesos de n√≥mina',
                                    'Solo generar reportes mensuales',
                                    'Solo verificar datos de empleados'
                                ],
                                correct: 1,
                                explanation: 'El monitoreo en tiempo real permite supervisar el progreso actual de todos los procesos de n√≥mina.'
                            }
                        ]
                    }
                }
            };

            // Resto de las funciones igual que antes...
            const markLessonCompleted = (module, level, subsection, lessonIndex, isCorrect) => {
                const key = `${module}-${level}-${subsection}`;
                setAppState(prev => {
                    const newCompletedLessons = { ...prev.completedLessons };
                    const newModuleProgress = { ...prev.moduleProgress };

                    if (!newCompletedLessons[key]) {
                        newCompletedLessons[key] = {};
                    }
                    newCompletedLessons[key][lessonIndex] = isCorrect;

                    if (!newModuleProgress[key]) {
                        newModuleProgress[key] = { completed: 0, total: 0, score: 0 };
                    }
                    
                    const totalLessons = lessons[module][level][subsection].length;
                    const completedCount = Object.keys(newCompletedLessons[key]).length;
                    const correctCount = Object.values(newCompletedLessons[key]).filter(Boolean).length;
                    
                    newModuleProgress[key] = {
                        completed: completedCount,
                        total: totalLessons,
                        score: correctCount
                    };

                    return {
                        ...prev,
                        completedLessons: newCompletedLessons,
                        moduleProgress: newModuleProgress
                    };
                });
            };

            const getSubsectionProgress = (module, level, subsection) => {
                const key = `${module}-${level}-${subsection}`;
                return appState.moduleProgress[key] || { completed: 0, total: 0, score: 0 };
            };

            const resetProgress = () => {
                try {
                    localStorage.removeItem('sapLearningProgress');
                    setAppState({
                        currentScreen: 'home',
                        selectedModule: null,
                        selectedLevel: null,
                        selectedSubsection: null,
                        currentLesson: 0,
                        score: 0,
                        completedLessons: {},
                        moduleProgress: {}
                    });
                } catch (e) {
                    console.error('Error resetting progress:', e);
                }
            };

            const checkAnswer = (answer) => {
                const currentLessonData = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection][appState.currentLesson];
                let correct = false;
                
                if (currentLessonData.type === 'multiple-choice') {
                    correct = answer === currentLessonData.correct;
                } else if (currentLessonData.type === 'fill-blank') {
                    const userAnswerLower = answer.toLowerCase().trim();
                    correct = userAnswerLower === currentLessonData.correct.toLowerCase();
                }

                setIsCorrect(correct);
                setShowResult(true);
                
                markLessonCompleted(appState.selectedModule, appState.selectedLevel, appState.selectedSubsection, appState.currentLesson, correct);
                
                if (correct) {
                    updateAppState({ score: appState.score + 1 });
                }
            };

            const handleMultipleChoice = (optionIndex) => {
                checkAnswer(optionIndex);
            };

            const handleFillBlank = () => {
                if (userAnswer.trim()) {
                    checkAnswer(userAnswer);
                }
            };

            const nextLesson = () => {
                setShowResult(false);
                setUserAnswer('');
                setIsCorrect(false);
                
                if (appState.currentLesson < lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length - 1) {
                    updateAppState({ currentLesson: appState.currentLesson + 1 });
                } else {
                    updateAppState({ currentScreen: 'completed' });
                }
            };

            const resetApp = () => {
                updateAppState({
                    currentScreen: 'home',
                    selectedModule: null,
                    selectedLevel: null,
                    selectedSubsection: null,
                    currentLesson: 0,
                    score: 0
                });
            };

            // Renderizado de pantallas
            if (appState.currentScreen === 'home') {
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "text-center mb-8 pt-8" },
                            React.createElement('div', { className: "w-16 h-16 bg-blue-600 rounded-2xl mx-auto mb-4 flex items-center justify-center" },
                                React.createElement(BookOpen, { className: "w-8 h-8 text-white" })
                            ),
                            React.createElement('h1', { className: "text-3xl font-light text-gray-900 mb-2" }, 'SAP Learning'),
                            React.createElement('p', { className: "text-gray-600" }, 'Aprende SAP de forma interactiva'),
                            React.createElement('div', { className: "mt-4 flex justify-center space-x-4" },
                                React.createElement('button', {
                                    onClick: resetProgress,
                                    className: "text-sm text-red-600 hover:text-red-800 underline"
                                }, 'Reiniciar Progreso')
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            Object.entries(modules).map(([key, module]) => {
                                return React.createElement('button', {
                                    key: key,
                                    onClick: () => {
                                        updateAppState({ selectedModule: key, currentScreen: 'levels' });
                                    },
                                    className: `w-full p-6 rounded-2xl border-2 ${module.color} hover:shadow-lg transition-all duration-200 text-left`
                                },
                                    React.createElement('div', { className: "flex items-center justify-between" },
                                        React.createElement('div', { className: "flex items-center space-x-4" },
                                            React.createElement(module.icon, { className: "w-8 h-8 text-gray-700" }),
                                            React.createElement('div', null,
                                                React.createElement('h3', { className: "text-xl font-medium text-gray-900" }, module.title),
                                                React.createElement('p', { className: "text-gray-600 text-sm mt-1" }, module.description)
                                            )
                                        ),
                                        React.createElement(ChevronRight, { className: "w-6 h-6 text-gray-400" })
                                    )
                                );
                            })
                        )
                    )
                );
            }

            if (appState.currentScreen === 'levels') {
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "flex items-center mb-6 pt-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'home' }),
                                className: "p-2 hover:bg-gray-200 rounded-full transition-colors"
                            },
                                React.createElement(ChevronLeft, { className: "w-6 h-6 text-gray-600" })
                            ),
                            React.createElement('h2', { className: "text-2xl font-light text-gray-900 ml-4" },
                                `Niveles de ${modules[appState.selectedModule].title}`
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            Object.entries(levels).map(([key, level]) => {
                                const subsectionCount = Object.keys(subsections[appState.selectedModule][key] || {}).length;
                                const isAvailable = subsectionCount > 0;
                                
                                return React.createElement('button', {
                                    key: key,
                                    onClick: () => {
                                        if (isAvailable) {
                                            updateAppState({ selectedLevel: key, currentScreen: 'subsections' });
                                        }
                                    },
                                    disabled: !isAvailable,
                                    className: `w-full p-6 rounded-2xl border-2 transition-all duration-200 text-left ${
                                        isAvailable 
                                            ? 'border-gray-200 bg-white hover:shadow-lg cursor-pointer' 
                                            : 'border-gray-100 bg-gray-50 cursor-not-allowed opacity-60'
                                    }`
                                },
                                    React.createElement('div', { className: "flex items-center justify-between" },
                                        React.createElement('div', { className: "flex items-center space-x-4" },
                                            React.createElement('div', { className: "text-3xl" }, level.icon),
                                            React.createElement('div', null,
                                                React.createElement('h3', { className: "text-xl font-medium text-gray-900" }, level.title),
                                                React.createElement('p', { className: "text-gray-600 text-sm mt-1" }, level.description),
                                                React.createElement('p', { 
                                                    className: `text-xs mt-1 ${isAvailable ? 'text-blue-600' : 'text-gray-400'}`
                                                }, isAvailable ? `${subsectionCount} secciones` : 'Pr√≥ximamente')
                                            )
                                        ),
                                        isAvailable && React.createElement(ChevronRight, { className: "w-6 h-6 text-gray-400" })
                                    )
                                );
                            })
                        )
                    )
                );
            }

            if (appState.currentScreen === 'subsections') {
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "flex items-center mb-6 pt-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'levels' }),
                                className: "p-2 hover:bg-gray-200 rounded-full transition-colors"
                            },
                                React.createElement(ChevronLeft, { className: "w-6 h-6 text-gray-600" })
                            ),
                            React.createElement('h2', { className: "text-2xl font-light text-gray-900 ml-4" },
                                levels[appState.selectedLevel].title
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            Object.entries(subsections[appState.selectedModule][appState.selectedLevel]).map(([key, subsection]) => {
                                const lessonCount = lessons[appState.selectedModule][appState.selectedLevel][key]?.length || 0;
                                const isAvailable = lessonCount > 0;
                                
                                return React.createElement('button', {
                                    key: key,
                                    onClick: () => {
                                        if (isAvailable) {
                                            updateAppState({ 
                                                selectedSubsection: key, 
                                                currentLesson: 0, 
                                                score: 0, 
                                                currentScreen: 'lesson' 
                                            });
                                        }
                                    },
                                    disabled: !isAvailable,
                                    className: `w-full p-6 rounded-2xl border-2 transition-all duration-200 text-left ${
                                        isAvailable 
                                            ? `border-gray-200 ${subsection.color} hover:shadow-lg cursor-pointer` 
                                            : 'border-gray-100 bg-gray-50 cursor-not-allowed opacity-60'
                                    }`
                                },
                                    React.createElement('div', { className: "flex items-center justify-between" },
                                        React.createElement('div', { className: "flex items-center space-x-4" },
                                            React.createElement('div', { className: "text-3xl" }, subsection.icon),
                                            React.createElement('div', null,
                                                React.createElement('h3', { className: "text-xl font-medium text-gray-900" }, subsection.title),
                                                React.createElement('p', { className: "text-gray-600 text-sm mt-1" }, subsection.description),
                                                React.createElement('p', { 
                                                    className: `text-xs mt-1 ${isAvailable ? 'text-blue-600' : 'text-gray-400'}`
                                                }, lessonCount > 0 ? `${lessonCount} lecciones` : 'Pr√≥ximamente')
                                            )
                                        ),
                                        isAvailable && React.createElement(ChevronRight, { className: "w-6 h-6 text-gray-400" })
                                    )
                                );
                            })
                        )
                    )
                );
            }

            if (appState.currentScreen === 'lesson') {
                const currentLessonData = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection][appState.currentLesson];
                const totalLessons = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length;
                const progressPercent = ((appState.currentLesson + 1) / totalLessons) * 100;

                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
                    React.createElement('div', { className: "max-w-md mx-auto" },
                        React.createElement('div', { className: "flex items-center justify-between mb-6 pt-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'subsections' }),
                                className: "p-2 hover:bg-gray-200 rounded-full transition-colors"
                            },
                                React.createElement(ChevronLeft, { className: "w-6 h-6 text-gray-600" })
                            ),
                            React.createElement('div', { className: "flex-1 mx-4" },
                                React.createElement('div', { className: "w-full bg-gray-200 rounded-full h-2" },
                                    React.createElement('div', { 
                                        className: "bg-blue-600 h-2 rounded-full transition-all duration-500",
                                        style: { width: `${progressPercent}%` }
                                    })
                                ),
                                React.createElement('p', { className: "text-xs text-gray-600 mt-1 text-center" },
                                    `${appState.currentLesson + 1} de ${totalLessons} ‚Ä¢ Puntos: ${appState.score}`
                                )
                            )
                        ),

                        React.createElement('div', { className: "bg-white rounded-2xl p-6 mb-6 shadow-sm" },
                            React.createElement('h3', { className: "text-xl font-medium text-gray-900 mb-4" },
                                currentLessonData.title
                            ),
                            React.createElement('p', { className: "text-gray-700 mb-4" }, currentLessonData.question),

                            currentLessonData.code && React.createElement('div', { className: "bg-gray-900 rounded-lg p-4 mb-4 overflow-x-auto" },
                                React.createElement('pre', { className: "text-green-400 text-sm font-mono whitespace-pre-wrap" },
                                    currentLessonData.code
                                )
                            ),

                            React.createElement('div', { className: "space-y-3" },
                                currentLessonData.type === 'multiple-choice' ?
                                    currentLessonData.options.map((option, index) =>
                                        React.createElement('button', {
                                            key: index,
                                            onClick: () => handleMultipleChoice(index),
                                            disabled: showResult,
                                            className: `w-full p-4 text-left rounded-xl border-2 transition-all duration-200 ${
                                                showResult 
                                                    ? (index === currentLessonData.correct 
                                                        ? 'border-green-500 bg-green-50' 
                                                        : 'border-gray-200 opacity-60')
                                                    : 'border-gray-200 hover:border-blue-300 hover:bg-blue-50'
                                            } disabled:cursor-not-allowed`
                                        },
                                            React.createElement('span', { className: "flex items-center" },
                                                React.createElement('span', { className: "w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex items-center justify-center text-xs" },
                                                    String.fromCharCode(65 + index)
                                                ),
                                                option
                                            )
                                        )
                                    ) :
                                    React.createElement('div', null,
                                        React.createElement('input', {
                                            type: "text",
                                            value: userAnswer,
                                            onChange: (e) => setUserAnswer(e.target.value),
                                            placeholder: currentLessonData.placeholder || "Escribe tu respuesta...",
                                            className: "w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none transition-colors",
                                            disabled: showResult,
                                            onKeyPress: (e) => e.key === 'Enter' && !showResult && handleFillBlank()
                                        }),
                                        !showResult && React.createElement('button', {
                                            onClick: handleFillBlank,
                                            disabled: !userAnswer.trim(),
                                            className: "w-full mt-3 bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"
                                        }, 'Verificar Respuesta')
                                    )
                            )
                        ),

                        showResult && React.createElement('div', { 
                            className: `rounded-2xl p-6 shadow-sm ${isCorrect ? 'bg-green-50 border-2 border-green-200' : 'bg-red-50 border-2 border-red-200'}`
                        },
                            React.createElement('div', { className: "text-center mb-4" },
                                React.createElement('div', { 
                                    className: `w-16 h-16 mx-auto mb-3 flex items-center justify-center rounded-full ${isCorrect ? 'bg-green-100' : 'bg-red-100'}`
                                },
                                    isCorrect ? 
                                        React.createElement(Check, { className: "w-8 h-8 text-green-600" }) :
                                        React.createElement(X, { className: "w-8 h-8 text-red-600" })
                                ),
                                React.createElement('h4', { 
                                    className: `text-lg font-medium mb-2 ${isCorrect ? 'text-green-900' : 'text-red-900'}`
                                }, isCorrect ? '¬°Correcto!' : 'Incorrecto'),
                                React.createElement('p', { 
                                    className: `text-sm ${isCorrect ? 'text-green-700' : 'text-red-700'}`
                                }, currentLessonData.explanation)
                            ),
                            React.createElement('button', {
                                onClick: nextLesson,
                                className: "w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors"
                            }, appState.currentLesson < lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length - 1 ? 'Siguiente Lecci√≥n' : 'Ver Resultados')
                        )
                    )
                );
            }

            if (appState.currentScreen === 'completed') {
                const totalLessons = lessons[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].length;
                const percentage = Math.round((appState.score / totalLessons) * 100);
                
                return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4 flex items-center justify-center" },
                    React.createElement('div', { className: "max-w-md mx-auto text-center" },
                        React.createElement('div', { 
                            className: `w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center ${
                                percentage >= 80 ? 'bg-green-600' : percentage >= 60 ? 'bg-yellow-500' : 'bg-red-500'
                            }`
                        },
                            React.createElement(Award, { className: "w-10 h-10 text-white" })
                        ),
                        React.createElement('h2', { className: "text-3xl font-light text-gray-900 mb-4" }, '¬°Secci√≥n Completada!'),
                        React.createElement('p', { className: "text-gray-600 mb-2" },
                            `Has terminado ${subsections[appState.selectedModule][appState.selectedLevel][appState.selectedSubsection].title}`
                        ),
                        React.createElement('div', { className: "text-center mb-6" },
                            React.createElement('p', { className: "text-4xl font-bold text-blue-600 mb-2" }, `${percentage}%`),
                            React.createElement('p', { className: "text-gray-600" },
                                `${appState.score} de ${totalLessons} respuestas correctas`
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            React.createElement('button', {
                                onClick: () => updateAppState({ currentScreen: 'subsections' }),
                                className: "w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors"
                            }, 'Elegir Otra Secci√≥n'),
                            React.createElement('button', {
                                onClick: resetApp,
                                className: "w-full border-2 border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-colors"
                            }, 'Volver al Inicio')
                        )
                    )
                );
            }

            return React.createElement('div', { className: "loading" }, 'Cargando...');
        };

        // Renderizar la aplicaci√≥n
        ReactDOM.render(React.createElement(SAPLearningApp), document.getElementById('root'));
    </script>
</body>
</html>
